(function(jQuery)
{jQuery.fn.hasAttr=function(name)
{for(var i=0,l=this.length;i<l;i++)
{if(!!(this.attr(name)!==undefined))return true;}
return false;};})(jQuery);jQuery(document).ready(function($)
{setTimeout(function(){$('body').width($('body').width()+1).width('auto');},500);$('span.ssfa-rssmini').on('click',function()
{window.open($(this).data('href'));});});FlightBoxes=[];jQuery(document).ready(function($)
{flightbox=function(url,uid,theme,icons,nolinks)
{var in_iframe=(window.location!=window.parent.location)?'iframe ':'';if(typeof(url)==='undefined')url=false;if(!url)return false;var id=uid.split("-");var flightbox_nonce=$('div.flightbox-parent[data-uid="'+id[0]+'"]').data('fbn');if(!$('#ssfa-flightbox-shadow').length)
{var FlightBox=$('<div id="ssfa-flightbox" />');var FlightBoxCont=$('<div class="ssfa-flightbox-controls" />');var theShadow=$('<div id="ssfa-flightbox-shadow" class="'+theme+'" />');$('body',window.top.document).append(theShadow);$('body',window.top.document).append(FlightBox);theShadow.hide();FlightBox.hide();}
else
{var FlightBox=$('div#ssfa-flightbox',window.top.document);var FlightBoxCont=$('div.ssfa-flightbox-controls',window.top.document);var theShadow=$('div#ssfa-flightbox-shadow',window.top.document);}
theShadow.on('click',function(e)
{Xflightbox();});$('body').on("contextmenu",'div#ssfa-flightbox-shadow, div#ssfa-flightbox',function()
{return false;});if(!$('div.flightbox-spinner').length)
{var loading=$('<div class="flightbox-spinner">'+'<div class="fb-rect1"></div>'+'<div class="fb-rect2"></div>'+'<div class="fb-rect3"></div>'+'<div class="fb-rect4"></div>'+'<div class="fb-rect5"></div>'+'</div>');}
else var loading=$('div.flightbox-spinner');FlightBoxCont.prepend(loading);var total=FlightBoxes[id[0]];var next=id[1]>=total?1:(+id[1]+1);var prev=id[1]==1?total:(+id[1]-1);$next=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(next)+'"]');$next=$next.length?$next.get(0).attributes.onclick.value:$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(next)+'"]').get(0).attributes.onclick.value;$prev=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(prev)+'"]');$prev=$prev.length?$prev.get(0).attributes.onclick.value:$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(prev)+'"]').get(0).attributes.onclick.value;$current=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(id[1])+'"]');$current=$current.length?$current.get(0).attributes.onclick.value:$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(id[1])+'"]').get(0).attributes.onclick.value;$nexturl=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(next)+'"]');$nexturl=$nexturl.length?$nexturl.attr('href'):$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(next)+'"]').attr('href');$prevurl=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(prev)+'"]');$prevurl=$prevurl.length?$prevurl.attr('href'):$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(prev)+'"]').attr('href');$url=$('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(id[1])+'"]');$url=$url.length?$url.attr('href'):$('iframe').contents().find('div.ssfa-meta-container[data-uid="'+id[0]+'"] a[data-flightbox="'+(id[1])+'"]').attr('href');var wh=$(window.top).height();var ww=$(window.top).width();theShadow.fadeIn(500);$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'flightbox',url:url,uid:String(uid),theme:theme,icons:icons,wh:wh,ww:ww,next:$next,prev:$prev,nexturl:$nexturl,prevurl:$prevurl,currenturl:$url,current:$current,nolinks:nolinks,nonce:fileaway_mgmt.nonce,flightbox_nonce:flightbox_nonce},function(response)
{$('div#ssfa-flightbox-inner',window.top.document).animate({opacity:'0'},500);$('div.ssfa-flightbox-controls a',window.top.document).animate({opacity:'0'},0);loading.remove();FlightBox.delay(500).animate({left:response.offset,height:response.height,width:response.width,top:response.top},500,function(){$(this).replaceWith(response.html);$('div#ssfa-flightbox-inner',window.top.document).animate({opacity:'1'},500);$('div.ssfa-flightbox-controls span',window.top.document).css({opacity:'0.8'});if(response.iframe=='true',window.top.document)
{$('div#ssfa-flightbox-inner iframe',window.top.document).width(response.iwidth);$('div#ssfa-flightbox-inner iframe',window.top.document).height(response.iheight);}});})
return false;}
Xflightbox=function()
{$('div#ssfa-flightbox',window.parent.document).fadeOut(500).queue(function(){$(this).remove();});$('div#ssfa-flightbox-shadow',window.parent.document).fadeOut(500).queue(function(){$(this).remove();});}});jQuery(document).ready(function($)
{if($('span[id^=ssfa-bulk-download-engage]').length)
{$('table.bd-table tr[id^=ssfa-file-]').each(function()
{$sfx=this.id;$type=$('td#filetype-'+$sfx).data('ext');$path=$('td#filename-'+$sfx).data('path');$name=$('td#filename-'+$sfx).data('name');});$checkall=$('input[id^="ssfa-bulk-download-select-all-"]');$checkall.on('change',function()
{$uid=this.id;$uid=$uid.replace('ssfa-bulk-download-select-all-','');$selectalltext=$(this).data('selectall');$clearalltext=$(this).data('clearall');$selectall=$('label#ssfa-bulkdownload-select-all-'+$uid);if(this.checked)
{$selectall.text($clearalltext);$('table.bd-table tr[id^=ssfa-file-'+$uid+']').addClass('ssfabd-selected');$('table.bd-table tr[id^=ssfa-file-'+$uid+'].fileaway-dynamic').removeClass('ssfabd-selected');}
else
{$selectall.text($selectalltext);$('table.bd-table tr[id^=ssfa-file-'+$uid+']').removeClass('ssfabd-selected');}});$('table.bd-table tr[id^=ssfa-file-]').each(function()
{$(this).on('click',function(e)
{var target=$(e.target);if(!target.is('a',this)&&!target.is('span',this)&&!target.is('div.ssfa-audio-download',this)&&!target.is('div.ssfa-player',this)&&!target.is('div.ssfa-player-extended',this))
{if($(this).hasClass('ssfabd-selected'))$(this).removeClass('ssfabd-selected');else if(!$(this).hasClass('fileaway-dynamic'))$(this).addClass('ssfabd-selected');}});});$('span[id^="ssfa-bulk-download-engage-"]').on('click',function()
{$uid=this.id;$uid=$uid.replace('ssfa-bulk-download-engage-','');$loading=$('img#ssfa-engage-ajax-loading-'+$uid);var stats=$('table#ssfa-table-'+$uid).data('stats')?'true':'false';var bulkdownload_nonce=$('table#ssfa-table-'+$uid).data('bd');var selectedFilesFrom={};var selectedCount=0;var messages='';var jackoff=false;$('table.bd-table tr[id^=ssfa-file-'+$uid+']').each(function(index)
{if($(this).hasClass('ssfabd-selected'))
{var sfx=this.id;var filepath=String($('td#filename-'+sfx).data('path'));var oldname=String($('td#filename-'+sfx).data('name'));var ext=String($('td#filetype-'+sfx).data('ext'));if(oldname.indexOf('..')>=0||filepath.indexOf('..')>=0||filepath==='/')jackoff=true;else
{selectedFilesFrom[index]=filepath+'/'+oldname+'.'+ext;selectedCount++;}}});if(jackoff)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper1);}
else
{if(selectedCount==0)
messages+=fileaway_mgmt.no_files_selected+'<br>';if(messages!=='')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(messages)}
else
{$loading.show();$.post(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'bulkdownload',files:selectedFilesFrom,stats:stats,nonce:fileaway_mgmt.nonce,bulkdownload_nonce:bulkdownload_nonce},function(response)
{$loading.hide();if(response=='Error')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);}
else
{$('<iframe src="'+response+'" id="fa-bulkdownload" style="visibility:hidden;" name="fa-bulkdownload">').appendTo('body');}})}}});}});jQuery(document).ready(function($)
{if($('table.dirtree-table').length)
{$i=0;$('table.dirtree-table').each(function()
{if($(this).data('drawer')=='drawer')$i++;});if($i>1)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert('Notice: You have multiple Directory Tree or Manager Mode tables on the same page with no drawer id number specified. Please add <code>drawerid="1"</code>, <code>drawerid="2"</code>, etc., to each Directory Tree or Manager table shortcode, assigning them each a unique id number.');}}
if($('th.ssfa-manager').length)
{$('table.mngr-table').each(function()
{$uid=$(this).data('uid');$page=$(this).data('pg');$drawer=$(this).data('drw');$class=$(this).data('cls');$basename=$(this).data('basename');$start=$(this).data('start');$dir=$(this).data('dir');$base=$(this).data('base');$basedir=$(this).data('basedir');$fafl=$(this).data('fafl');$faui=$(this).data('faui');$faun=$(this).data('faun');$faur=$(this).data('faur');$faum=$(this).data('faum');});$('table.mngr-table tr[id^=ssfa-dir-]').each(function()
{$sfx=this.id;$path=$('td#folder-'+$sfx+' a').data('path');$name=$('td#folder-'+$sfx+' a').data('name');});$('table.mngr-table tr[id^=ssfa-file-]').each(function()
{$sfx=this.id;$type=$('td#filetype-'+$sfx).data('ext');$path=$('td#filename-'+$sfx).data('path');$name=$('td#filename-'+$sfx).data('name');});$('table[id^="ssfa-table-"] tbody tr[id^="ssfa-file-"] td[id^="filename-"] input').alphanum({allow:"~!@#$^&()_+`-={}[]',"});$('table[id^="ssfa-table-"] tbody tr[id^="ssfa-file-"] input.fileaway-customdata').alphanum({allow:"~!@#$^&()_+`-={}[]',"});$('table[id^="ssfa-table-"] tbody tr[id^="ssfa-file-"] input.fileaway-metadata').alphanum({allow:"|/~!@#$^&()_+`-={}[]',."});$('table[id^="ssfa-table-"] tbody tr[id^="row-ssfa-create-dir-"] input').alphanum({allow:"~!@#$/^&()_+`-={}[]',"});$('table[id^="ssfa-table-"] tbody tr[id^="ssfa-dir-"] input').alphanum({allow:"~!@#$^&()_+`-={}[]',"});$('select.ssfa-directories-select, select.ssfa-bulk-action-select').chozed({allow_single_deselect:true,width:'150px',inherit_select_classes:true,no_results_text:fileaway_mgmt.no_results,search_contains:true});$('body').on('click','a[id^="ssfa-create-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id,createinput=$('input#input-'+sfx),manager=$('td#manager-'+sfx);if($(createinput).is(':visible')){}
else
{createinput.fadeIn(1000).focus();manager.html("<a href='javascript:' id='save-"+sfx+"' style='display:none;'>"+fileaway_mgmt.save_link+"</a><br>"+"<a href='javascript:' id='cancel-"+sfx+"' style='display:none;'>"+fileaway_mgmt.cancel_link+"</a>")
var save=$('a#save-'+sfx),cancel=$('a#cancel-'+sfx);save.delay(500).fadeIn(500);cancel.delay(500).fadeIn(500);}});$('body').on('click','a[id^="cancel-ssfa-create-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('cancel-',''),save=$('a#save-'+sfx),createinput=$('input#input-'+sfx);save.fadeOut(500);$(this).fadeOut(500);createinput.fadeOut(500).val('');});$('body').on('click','a[id^="save-ssfa-create-dir"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('save-',''),cancel=$('a#cancel-'+sfx),createinput=$('input#input-'+sfx);$newsub=createinput.val();if($newsub==='')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.no_subdir_name);}
else
{$(this).fadeOut(500);cancel.fadeOut(500);createinput.fadeOut(500).val('');var uid=sfx.replace('ssfa-create-dir-','');var manager_nonce=$(this).parents('table').eq(0).data('mn');var count=$('table.mngr-table tr[id^=ssfa-dir-]').length;var cells=$(this).parents('tr').children('td').length;var cls=$(this).parents('table').eq(0).data('cls');var page=$(this).parents('table').eq(0).data('pg');var drawer=$(this).parents('table').eq(0).data('drw');var drawerid=$(this).parents('table').eq(0).data('drawer');var dir=String($(this).parents('table').eq(0).data('dir'));var base=String($(this).parents('table').eq(0).data('base'));$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'createdir',newsub:$newsub,parents:dir,base:base,uid:uid,count:(+count+1),cells:(+cells-2),cls:cls,pg:page,drawer:drawer,drawerid:drawerid,querystring:location.search,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{if(response.status==='error')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}
else if(response.status==='success')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}
else if(response.status==='insert')
{$newrow=response.message;$row=$('tr#row-'+sfx);$row.after($newrow).hide().fadeIn(500);}});return false;}});$('body').on('click','a[id^="delete-ssfa-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('delete-',''),rename=$('a#rename-'+sfx),del=$('a#delete-'+sfx),manager=$('td#manager-'+sfx);del.fadeOut(500);rename.fadeOut(500);if(!$('a#canceldel-'+sfx).length)manager.prepend("<a href='javascript:' id='canceldel-"+sfx+"' style='display:none;'>"+fileaway_mgmt.cancel_link+"</a>")
if(!$('a#proceed-'+sfx).length)manager.prepend("<a href='javascript:' id='proceed-"+sfx+"' style='display:none;'>"+fileaway_mgmt.proceed_link+"<br></a>")
if(!$('span#confirm-'+sfx).length)manager.prepend("<span id='confirm-"+sfx+"' style='display:none;'>"+fileaway_mgmt.delete_check+"<br></span>")
var proceed=$('a#proceed-'+sfx),canceldel=$('a#canceldel-'+sfx),confirms=$('span#confirm-'+sfx);proceed.delay(500).fadeIn(500);canceldel.delay(500).fadeIn(500);confirms.delay(500).fadeIn(500);$subdir=$('td#folder-'+sfx+' a').data('name');var dir=String($(this).parents('table').eq(0).data('dir'));var base=String($(this).parents('table').eq(0).data('base'));var manager_nonce=$(this).parents('table').eq(0).data('mn');$path1=dir;$path2=String($subdir);$(canceldel).on('click',function(ev)
{ev.preventDefault();proceed.fadeOut(500);canceldel.fadeOut(500);confirms.fadeOut(500);rename.delay(0).fadeIn(1000);del.delay(0).fadeIn(1000);});$(proceed).on('click',function(ev)
{ev.preventDefault();proceed.fadeOut(500);canceldel.fadeOut(500);confirms.fadeOut(500);rename.delay(500).fadeIn(500);del.delay(500).fadeIn(500);if($path1.indexOf('..')>=0||$path1==='/'||$path1===''||!$path1||$path1==='undefined'||$path1===undefined)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper2);}
else if($path2.indexOf('..')>=0||$path2==='/'||$path2===''||!$path2||$path2==='undefined'||$path2===undefined)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper2);}
else
{$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'deletedir',status:'life',path1:$path1,path2:$path2,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{if(response.status==='error'||response.status==='partial')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}
else if(response.status==='success')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);$(del).parents('tr').fadeOut(2000).queue(function(next){$(this).remove();next();});}
else if(response.status==='success-single')
{$(del).parents('tr').fadeOut(2000).queue(function(next){$(this).remove();next();});}
else if(response.status==='confirm')
{filertify.set({labels:{ok:fileaway_mgmt.confirm_label,cancel:fileaway_mgmt.cancel_label}});filertify.confirm(response.message,function(e)
{if(e)
{$.post(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'deletedir',status:'death',path1:$path1,path2:$path2,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{if(response.status==='error'||response.status==='partial')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}
else if(response.status==='success')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);$(del).parents('tr').fadeOut(2000).queue(function(next){$(this).remove();next();});}});return false;}});}});return false;}});});$('body').on('click','a[id^="rename-ssfa-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('rename-',''),del=$('a#delete-'+sfx),manager=$('td#manager-'+sfx),dirname=$('td#name-'+sfx+' a'),dirinput=$('input#rename-'+sfx),$subdir=$('td#folder-'+sfx+' a').data('path');$(this).fadeOut(500);del.fadeOut(500);if(!$('a#cancel-'+sfx).length)manager.prepend("<a href='' id='cancel-"+sfx+"' style='display:none;'>"+fileaway_mgmt.cancel_link+"</a>");if(!$('a#save-'+sfx).length)manager.prepend("<a href='' id='save-"+sfx+"' style='display:none;'>"+fileaway_mgmt.save_link+"<br></a>");var save=$('a#save-'+sfx),cancel=$('a#cancel-'+sfx);dirname.fadeOut(500);save.delay(500).fadeIn(500);cancel.delay(500).fadeIn(500);dirinput.delay(500).fadeIn(500);});$('body').on('click','a[id^="cancel-ssfa-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('cancel-','');$('a#save-'+sfx).fadeOut(500);$(this).fadeOut(500);$('a#rename-'+sfx).delay(500).fadeIn(500);$('a#delete-'+sfx).delay(500).fadeIn(500);$('input#rename-'+sfx).fadeOut(500);$('td#name-'+sfx+' a').delay(500).fadeIn(500);});$('body').on('click','a[id^="save-ssfa-dir-"]',function(ev)
{ev.preventDefault();var sfx=this.id.replace('save-','');$dir=String($(this).parents('table').eq(0).data('dir'));$base=String($(this).parents('table').eq(0).data('base'));$url=$('td#folder-'+sfx+' a');$url2=$('td#name-'+sfx+' a');$subdir=$('td#folder-'+sfx+' a').data('path');$oldpath=$base+'/'+$subdir;$newname=String($('input#rename-'+sfx).val());$page=$(this).parents('table').eq(0).data('pg');$drawerid=$(this).parents('table').eq(0).data('drawer');metadata=$(this).parents('table').eq(0).data('metadata');var manager_nonce=$(this).parents('table').eq(0).data('mn');$('a#save-'+sfx).fadeOut(500);$('a#cancel-'+sfx).fadeOut(500);$('input#rename-'+sfx).fadeOut(500);if($oldpath.indexOf('..')>=0||$oldpath==='/'||$newname.indexOf('..')>=0||$newname.indexOf('/')>=0)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper3);}
else if($newname===''||$newname==='undefined'||$newname===undefined)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.no_subdir_name);}
else
{$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'renamedir',datapath:$subdir,oldpath:$oldpath,metadata:metadata,newname:$newname,parents:$dir,pg:$page,drawerid:$drawerid,querystring:location.search,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{if(response.status==='error')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}
else
{$newnamerow=$('td#name-'+sfx+' input').val(response.newname).attr('value',response.newname);$('tr#'+sfx+' td').each(function()
{$(this).data('value',"# # # # # "+response.newname).attr('data-value',"# # # # # "+response.newname);});$('td#folder-'+sfx+' a').attr('href',response.url);$('td#folder-'+sfx+' a').data('path',response.newdata).attr('data-path',response.newdata);$('td#name-'+sfx+' a').attr('href',response.url);$('td#folder-'+sfx+' a').data('name',response.newname).attr('data-name',response.newname);$('td#name-'+sfx+' a span').text(response.newname);}
$('a#rename-'+sfx).fadeIn(1000);$('a#delete-'+sfx).fadeIn(1000);$('td#name-'+sfx+' a').fadeIn(1000);});return false;}});$('body').on('click','a[id^="rename-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;var sfx=$id.replace('rename-',''),uid=$(this).parents('table:eq(0)').data('uid'),rename=$(this),del=$('a#delete-'+sfx),filename=$('td#filename-'+sfx+' a'),rawname=$('input#rawname-'+sfx),manager=$('td#manager-'+sfx);if(!$('a#cancel-'+sfx).length)manager.prepend("<a href='' id='cancel-"+sfx+"' style='display:none;'>"+fileaway_mgmt.cancel_link+"</a>")
if(!$('a#save-'+sfx).length)manager.prepend("<a href='' id='save-"+sfx+"' style='display:none;'>"+fileaway_mgmt.save_link+"<br></a>")
var save=$('a#save-'+sfx);var cancel=$('a#cancel-'+sfx);rename.fadeOut(500);filename.fadeOut(500);del.fadeOut(500);save.delay(500).fadeIn(500);cancel.delay(500).fadeIn(500);rawname.delay(500).fadeIn(500);var customs=$('input[id^="customdata-"][id$="'+sfx+'"]').length;customs=customs-1;for(var i=0;i<=customs;i++)
{var cdata=$('input[id^="customdata-'+i+'-'+sfx+'"]');cdata.siblings('span').fadeOut('fast');cdata.delay(500).fadeIn(500);}});$('body').on('click','a[id^="cancel-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;sfx=$id.replace('cancel-',''),uid=$(this).parents('table:eq(0)').data('uid'),rename=$('a#rename-'+sfx),del=$('a#delete-'+sfx),save=$('a#save-'+sfx),cancel=$(this),filename=$('td#filename-'+sfx+' a'),rawname=$('input#rawname-'+sfx),manager=$('td#manager-'+sfx);save.fadeOut(500);cancel.fadeOut(500);rename.delay(500).fadeIn(500);del.delay(500).fadeIn(500);rawname.fadeOut(500);filename.delay(500).fadeIn(500);var customs=$('input[id^="customdata-"][id$="'+sfx+'"]').length;customs=customs-1;for(var i=0;i<=customs;i++)
{var cdata=$('input[id^="customdata-'+i+'-'+sfx+'"]');$(cdata).fadeOut(500);$(cdata).siblings('span').delay(500).fadeIn(500);}});$('body').on('click','a[id^="save-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;var sfx=$id.replace('save-','');uid=$(this).parents('table:eq(0)').data('uid'),manager_nonce=$(this).parents('table').eq(0).data('mn'),rename=$('a#rename-'+sfx),del=$('a#delete-'+sfx),save=$(this),cancel=$('a#cancel-'+sfx),filename=$('td#filename-'+sfx+' a'),manager=$('td#manager-'+sfx),metadata=$(this).parents('table:eq(0)').data('metadata'),ext=$('td#filetype-'+sfx).data('ext'),url=$('td#filename-'+sfx+' a'),url2=$('td#filetype-'+sfx+' a'),rawname=$('input#rawname-'+sfx),oldname=String($('td#filename-'+sfx).data('name')),filepath=String($('td#filename-'+sfx).data('path')),dir=String($('table#ssfa-table-'+$uid).data('dir'));var customs=$('input[id^="customdata-"][id$="'+sfx+'"]').length;customs=customs-1;var customdata=[];if(customs>=0)
{for(var i=0;i<=customs;i++)
{var cdata=$('input[id^="customdata-'+i+'-'+sfx+'"]');customdata[i]=cdata.val();cdata.fadeOut(500);}}
rawname.fadeOut(500);save.fadeOut(500);cancel.fadeOut(500);$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'rename',customdata:customdata,metadata:metadata,ext:ext,url:url.attr('href'),rawname:rawname.val(),oldname:oldname,pp:dir,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{url.attr("href",response.newurl);url.attr("download",response.download);url2.attr("href",response.newurl);url2.attr("download",response.download);rawname.val(response.rawname);$('td#filename-'+sfx).data('name',response.newoldname)
$('td#filename-'+sfx).attr('data-name',response.newoldname)
rename.fadeIn(1000);del.fadeIn(1000);$('input#rawname-'+sfx).val(response.rawname);filename.text(response.rawname);filename.fadeIn(1000);var newcustomdata=response.customdata;if(customs>=0)
{for(var i=0;i<=customs;i++)
{var cinput=$('input[id^="customdata-'+i+'-'+sfx+'"]');if(newcustomdata[i]!=undefined)cinput.siblings('span').text(newcustomdata[i]).fadeIn(1000);else cinput.siblings('span').text('').fadeIn(1000);}}});return false;});$('body').on('click','a[id^="delete-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;var sfx=$id.replace('delete-',''),rename=$('a#rename-'+sfx),del=$(this),manager=$('td#manager-'+sfx);del.fadeOut(500);rename.fadeOut(500);if(!$('a#canceldel-'+sfx).length)manager.prepend("<a href='' id='canceldel-"+sfx+"' style='display:none;'>"+fileaway_mgmt.cancel_link+"</a>")
if(!$('a#proceed-'+sfx).length)manager.prepend("<a href='' id='proceed-"+sfx+"' style='display:none;'>"+fileaway_mgmt.proceed_link+"<br></a>")
if(!$('span#confirm-'+sfx).length)manager.prepend("<span id='confirm-"+sfx+"' style='display:none;'>"+fileaway_mgmt.delete_check+"<br></span>")
var proceed=$('a#proceed-'+sfx),canceldel=$('a#canceldel-'+sfx),confirms=$('span#confirm-'+sfx);proceed.delay(500).fadeIn(500);canceldel.delay(500).fadeIn(500);confirms.delay(500).fadeIn(500);});$('body').on('click','a[id^="canceldel-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;var sfx=$id.replace('canceldel-',''),rename=$('a#rename-'+sfx),del=$('a#delete-'+sfx),canceldel=$(this),proceed=$('a#proceed-'+sfx),confirms=$('span#confirm-'+sfx);proceed.fadeOut(500);canceldel.fadeOut(500);confirms.fadeOut(500);rename.delay(500).fadeIn(500);del.delay(500).fadeIn(500);});$('body').on('click','a[id^="proceed-ssfa-file-"]',function(ev)
{ev.preventDefault();$id=this.id;var sfx=$id.replace('proceed-',''),uid=$(this).parents('table').eq(0).data('uid'),manager_nonce=$(this).parents('table').eq(0).data('mn'),rename=$('a#rename-'+sfx),del=$('a#delete-'+sfx),proceed=$(this),canceldel=$('a#canceldel-'+sfx),confirms=$('span#confirm-'+sfx),ext=$('td#filetype-'+sfx).data('ext'),oldname=String($("td#filename-"+sfx).data("name")),filepath=String($("td#filename-"+sfx).data("path")),dir=String($("table#ssfa-table-"+uid).data("dir"));proceed.fadeOut(500);canceldel.fadeOut(500);confirms.fadeOut(500);$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'delete',ext:ext,oldname:oldname,pp:dir,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{if(response=='success')
{del.parents('tr:eq(0)').fadeOut(2000).queue(function(next){$(this).remove();next();});}
else
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);}});return false;});$('table.mngr-table tr[id^=ssfa-file-]').on('click',function(e)
{var target=$(e.target);if(!target.is('td[id^=filetype-ssfa-] a')&&!target.is('td[id^=filetype-ssfa-] span')&&!target.is('td[id^=filename-ssfa-] a')&&!target.is('td[id^=filename-ssfa-] span')&&!target.is('td[id^=manager-ssfa-] a'))
{$uid=$(this).parents('table:eq(0)').data('uid');$enabled=$('a#ssfa-bulk-action-toggle-'+$uid).data('enabled');if($('a#ssfa-bulk-action-toggle-'+$uid).text()==$enabled&&!$(this).hasClass('fileaway-dynamic'))
{if($(this).hasClass('ssfa-selected'))$(this).removeClass('ssfa-selected');else $(this).addClass('ssfa-selected');}}});$('a[id^="ssfa-bulk-action-toggle-"]').on('click',function(ev)
{ev.preventDefault();$id=this.id;$uid=$id.replace('ssfa-bulk-action-toggle-','');$enabled=$(this).data('enabled');$disabled=$(this).data('disabled');$actionarea=$('div#ssfa-bulk-action-select-area-'+$uid);$actionselect=$('select#ssfa-bulk-action-select-'+$uid);$checkall=$('input#ssfa-bulk-action-select-all-'+$uid);$selectalltext=$checkall.data('selectall');$selectall=$('label#ssfa-bulkaction-select-all-'+$uid+' span');if($(this).text()==$disabled)
{$(this).text($enabled);$actionarea.fadeIn(500);}
else if($(this).text()==$enabled)
{$(this).text($disabled);$actionarea.fadeOut(500);$checkall.attr('checked',false).trigger('change');$selectall.text($selectalltext);$actionselect.find('option:first').attr('selected','selected').trigger('chozed:updated').trigger('change');}});$('input[id^="ssfa-bulk-action-select-all-"]').on('change',function()
{$id=this.id;$uid=$id.replace('ssfa-bulk-action-select-all-','');$selectalltext=$(this).data('selectall');$clearalltext=$(this).data('clearall');$selectall=$('label#ssfa-bulkaction-select-all-'+$uid+' span');if(this.checked)
{$selectall.text($clearalltext);$('table.mngr-table tr[id^=ssfa-file-'+$uid+']').addClass('ssfa-selected');$('table.mngr-table tr[id^=ssfa-file-'+$uid+'].fileaway-dynamic').removeClass('ssfa-selected');}
else
{$selectall.text($selectalltext);$('table.mngr-table tr[id^=ssfa-file-'+$uid+']').removeClass('ssfa-selected');}});$('select[id^="ssfa-bulk-action-select-"]').on('change',function()
{$id=this.id;$uid=$id.replace('ssfa-bulk-action-select-','');$actionselected=this.value;$pathcontainer=$('div#ssfa-path-container-'+$uid);if($actionselected==''||$actionselected=='delete'||$actionselected=='download')$pathcontainer.fadeOut(500);else $pathcontainer.fadeIn(500);});$('select[id^="ssfa-directories-select-"]').on('change',function()
{$id=this.id;$uid=$id.replace('ssfa-directories-select-','');$loading=$('img#ssfa-path-ajax-loading-'+$uid);if($(this).val()!=='')
{$basename=$('table#ssfa-table-'+$uid).data('basename');$start=$('table#ssfa-table-'+$uid).data('start');$send=bulkactionpath(this.value,$basename,$start,$loading,$uid);}});$('body').on('click','a[id^=ssfa-action-pathpart-]',function(ev)
{ev.preventDefault();$id=$(this).parents('div:eq(0)').attr('id');$uid=$id.replace('ssfa-action-path-','');$pathparts=$(this).attr('data-target');$basename=$('table#ssfa-table-'+$uid).data('basename');$start=$('table#ssfa-table-'+$uid).data('start');$loading=$('img#ssfa-path-ajax-loading-'+$uid);$send=bulkactionpath($pathparts,$basename,$start,$loading,$uid);});function bulkactionpath($pathparts,$basename,$start,$loading,$uid)
{var manager_nonce=$('table[data-uid="'+$uid+'"]').data('mn');$loading.show();$.post(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'actionpath',uploadaction:'false',pathparts:$pathparts,basename:$basename,start:$start,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{$container=$('div#ssfa-path-container-'+$uid);$actionpath=$('input#ssfa-actionpath-'+$uid);$putpath=$('div#ssfa-action-path-'+$uid);$dropdown=$('select#ssfa-directories-select-'+$uid);$dropdown.empty().append(response.ops).trigger('chozed:updated');$actionpath.val(response.pathparts);$putpath.html(response.crumbs).append($loading);$loading.hide();});return false;}
$('span[id^="ssfa-bulk-action-engage-"]').on('click',function()
{$id=this.id;$uid=$id.replace('ssfa-bulk-action-engage-','');$loading=$('img#ssfa-engage-ajax-loading-'+$uid);var bulkdownload_nonce=$('table#ssfa-table-'+$uid).data('bd');var manager_nonce=$('table#ssfa-table-'+$uid).data('mn');var stats=$('table#ssfa-table-'+$uid).data('stats')?'true':'false';var selectedAction=$('select#ssfa-bulk-action-select-'+$uid).val();var selectedPath=String($('input#ssfa-actionpath-'+$uid).val());var dir=String($('table#ssfa-table-'+$uid).data('dir'));var selectedRows={};var selectedFilesFrom={};var selectedFilesTo={};var selectedExts={};var selectedCount=0;var messages='';var metadata=$('table#ssfa-table-'+$uid).data('metadata');var jackoff=selectedAction=='delete'||selectedAction=='download'?false:fileasec(selectedPath,$uid);$('table#ssfa-table-'+$uid+'.mngr-table tr.ssfa-selected').each(function(index)
{var sfx=this.id;var filepath=String($("td#filename-"+sfx).data("path"));var oldname=String($("td#filename-"+sfx).data("name"));var ext=String($("td#filetype-"+sfx).data("ext"));selectedRows[index]=sfx;selectedFilesFrom[index]=dir+'/'+oldname+'.'+ext;selectedFilesTo[index]=selectedPath+'/'+oldname+'.'+ext;selectedExts[index]=ext;selectedCount++;});if(selectedAction=='')messages+=fileaway_mgmt.no_action+'<br>';if(selectedCount==0)messages+=fileaway_mgmt.no_files_selected+'<br>';if((selectedAction=='move'||selectedAction=='copy')&&selectedPath=='')messages+=fileaway_mgmt.no_destination+'<br>';if(messages!=='')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(messages);}
else
{if(jackoff)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper1);}
else
{if(selectedAction=='download')
{$loading.show();$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'bulkdownload',files:selectedFilesFrom,exts:selectedExts,stats:stats,nonce:fileaway_mgmt.nonce,bulkdownload_nonce:bulkdownload_nonce},function(response)
{$loading.hide();if(response==='Error')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);}
else
{$('<iframe src="'+response+'" id="fa-bulkdownload" style="visibility:hidden;" name="fa-bulkdownload">').appendTo('body');}});}
else if(selectedAction=='copy')
{$loading.show();$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'bulkcopy',metadata:metadata,from:selectedFilesFrom,to:selectedFilesTo,exts:selectedExts,destination:selectedPath,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{$loading.hide();filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);});}
else if(selectedAction=='move')
{$loading.show();$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'bulkmove',metadata:metadata,from:selectedFilesFrom,to:selectedFilesTo,exts:selectedExts,destination:selectedPath,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{$loading.hide();filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);$.each(selectedRows,function(i,val)
{$('tr#'+val).fadeOut(2000).queue(function(next){$(this).remove();next();});});});}
else if(selectedAction=='delete')
{var numfiles=selectedCount>1?fileaway_mgmt.file_plural:fileaway_mgmt.file_singular;var confirmmessage=fileaway_mgmt.delete_confirm.replace('numfiles',+selectedCount+" "+numfiles);filertify.set({labels:{ok:fileaway_mgmt.confirm_label,cancel:fileaway_mgmt.cancel_label}});filertify.confirm(confirmmessage,function(e)
{if(e)
{$loading.show();$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'bulkdelete',files:selectedFilesFrom,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{$loading.hide();filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response);$.each(selectedRows,function(i,val)
{$('tr#'+val).fadeOut(2000).queue(function(next){$(this).remove();next();});});});}});}}}});function fileasec($path,$uid)
{var jackoff=0;$fafl=String($('table#ssfa-table-'+$uid).data('fafl'));$faui=String($('table#ssfa-table-'+$uid).data('faui'));$faun=String($('table#ssfa-table-'+$uid).data('faun'));$faur=String($('table#ssfa-table-'+$uid).data('faur'));$faum=String($('table#ssfa-table-'+$uid).data('faum'));$fafl=$fafl=='0'?false:$fafl;$faui=$faui=='0'?false:$faui;$faun=$faun=='0'?false:$faun;$faur=$faur=='0'?false:$faur;$faum=$faum=='0'?false:$faum;var faflcheck=false;var fauicheck=false;var fauncheck=false;var faurcheck=false;var faumcheck=false;if($fafl)faflcheck=$path.indexOf($fafl)>=0?false:true;if($faui)fauicheck=$path.indexOf($faui)>=0?false:true;if($faun)fauncheck=$path.indexOf($faun)>=0?false:true;if($faur)faurcheck=$path.indexOf($faur)>=0?false:true;if($faum)
{faurcheck=false;$faum_arr=$faum.split(',');for(var i=0;i<$faum_arr.length;i++)
{if($path.indexOf($faum_arr[i])<0)$faumcheck=true;}}
if($path.indexOf('..')>=0||$path==='/'||faflcheck||fauicheck||fauncheck||faurcheck||faumcheck)jackoff=1;return jackoff?true:false;}}});FileUpConfig=[];jQuery(document).ready(function($)
{if($('div.ssfa_fileup_container').length)
{if(window.File&&window.FileReader&&window.FileList&&window.Blob)
{}
else
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.no_upload_support);$('div[class^="ssfa_fileup_container"]').remove();}
var TheFiles=[];var aFile=[];$('input[id^="ssfa_fileup_files_"]').on('change',function(){var uid=$(this).data('uid');var files=document.getElementById(this.id).files;if(files)
{TheFiles[uid]=files;fileupDisplay(files,uid);}
else
{TheFiles[uid]=[];aFile[uid]=[];filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.unreadable_file);}});fileid=function(name,uid)
{return uid+'_'+name.replace(/[^a-z0-9\s]/gi,'_').replace(/[_\s]/g,'_').replace("'",'');}
ext=function(file,lowercase)
{return(/[.]/.exec(file))?(lowercase?/[^.]+$/.exec(file.toLowerCase()):/[^.]+$/.exec(file)):'';}
randcolor=function()
{array=["red","green","blue","brown","black","orange","silver","purple","pink"];return array[Math.floor(Math.random()*array.length)];}
nicesize=function(fileSize)
{if(fileSize/1024>1)
{if(((fileSize/1024)/1024)>1)
{fileSize=(Math.round(((fileSize/1024)/1024)*100)/100);var niceSize=fileSize+" GB";}
else
{fileSize=(Math.round((fileSize/1024)*100)/100)
var niceSize=fileSize+" MB";}}
else
{fileSize=(Math.round(fileSize*100)/100)
var niceSize=fileSize+" KB";}
return niceSize;}
icon=function(icon_ext,color)
{if($.inArray(icon_ext,fileaway_filetype_groups.image)!=-1)file_icon=ssfa_filetype_icons.image;else if($.inArray(icon_ext,fileaway_filetype_groups.adobe)!=-1)file_icon=ssfa_filetype_icons.adobe;else if($.inArray(icon_ext,fileaway_filetype_groups.audio)!=-1)file_icon=ssfa_filetype_icons.audio;else if($.inArray(icon_ext,fileaway_filetype_groups.video)!=-1)file_icon=ssfa_filetype_icons.video;else if($.inArray(icon_ext,fileaway_filetype_groups.msdoc)!=-1)file_icon=ssfa_filetype_icons.msdoc;else if($.inArray(icon_ext,fileaway_filetype_groups.msexcel)!=-1)file_icon=ssfa_filetype_icons.msexcel;else if($.inArray(icon_ext,fileaway_filetype_groups.powerpoint)!=-1)file_icon=ssfa_filetype_icons.powerpoint;else if($.inArray(icon_ext,fileaway_filetype_groups.openoffice)!=-1)file_icon=ssfa_filetype_icons.openoffice;else if($.inArray(icon_ext,fileaway_filetype_groups.text)!=-1)file_icon=ssfa_filetype_icons.text;else if($.inArray(icon_ext,fileaway_filetype_groups.compression)!=-1)file_icon=ssfa_filetype_icons.compression;else if($.inArray(icon_ext,fileaway_filetype_groups.application)!=-1)file_icon=ssfa_filetype_icons.application;else if($.inArray(icon_ext,fileaway_filetype_groups.script)!=-1)file_icon=ssfa_filetype_icons.script;else if($.inArray(icon_ext,fileaway_filetype_groups.css)!=-1)file_icon=ssfa_filetype_icons.css;else if(icon_ext==='denied')file_icon='<span class="ssfa-faminicon ssfa-red ssfa-icon-denied"></span>';else file_icon=ssfa_filetype_icons.unknown;file_icon=icon_ext==='denied'?file_icon:'<span data-ssfa-icon="'+file_icon+'" class="ssfa-faminicon ssfa-'+color+'" aria-hidden="true"></span>';return file_icon;}
fileupDisplay=function(files,uid)
{var settings=FileUpConfig[uid];aFile[uid]=files;if(aFile[uid].length>0)
{$("div#ssfa_fileup_files_container_"+uid).html('');$("span#ssfa_rf_"+uid).html('');FileUpConfig[uid].removed=[];var selectedDisplayed=file_id='<div id="'+settings.container+'" class="ssfa-meta-container">'+'<div id="ssfa-table-wrap-'+uid+'" style="margin: 10px 0 0;">'
+'<table id="ssfa-table-'+uid+'" class="footable ssfa-sortable ssfa-'+settings.table+' ssfa-center"><tbody>';var path=settings.fixed?settings.fixed:String($('input#ssfa-upload-actionpath-'+uid+'').val());var jackoff=path.indexOf('..')>=0||path==='/'?true:false;var allowedchars=settings.fixed?"~!@#$%^&()_+`-={}[]',":"~!@#$%^&()_+`-={}[]',/";for(var i=0;i<aFile[uid].length;i++)
{var thefilename=aFile[uid][i].name.replace("'","â€™");file_id=fileid(aFile[uid][i].name,uid);var rawname=aFile[uid][i].name.substr(0,aFile[uid][i].name.lastIndexOf('.'))||aFile[uid][i].name,icon_ext=ext(aFile[uid][i].name,true),extension=ext(aFile[uid][i].name,false),color=settings.iconcolor==='random'?self.randcolor():settings.iconcolor,permitted=settings.permitted?($.inArray(icon_ext.toString(),settings.permitted)!=-1?false:true):false,prohibited=settings.prohibited?($.inArray(icon_ext.toString(),settings.prohibited)!=-1?true:false):false,fileSize=(aFile[uid][i].size/1024),tooBig=aFile[uid][i].size>settings.maxsize?true:false,warningclass=tooBig||permitted||prohibited?' ssfa-fileup-warning':'',pretty_max=nicesize(settings.maxsize/1024),sizemsg=fileaway_mgmt.exceeds_size.replace('prettymax',pretty_max);sizenotice=tooBig?'<br><span class="'+warningclass+'">'+sizemsg+'</span>':'',pernotice=permitted?'<br><span class="'+warningclass+'">'+fileaway_mgmt.type_not_permitted+' '+'<a href="javascript:" onclick="filertify.alert(\''+settings.permitted.join(', ')+'\');">'+fileaway_mgmt.view_all_permitted+'</a></span>':'',pronotice=prohibited?'<br><span class="'+warningclass+'">'+fileaway_mgmt.type_not_permitted+' '+'<a href="javascript:" onclick="filertify.alert(\''+settings.prohibited.join(', ')+'\');">'+fileaway_mgmt.view_all_prohibited+'</a></span>':'',readonly=tooBig||permitted||prohibited||jackoff?' readonly=readonly':'',file_icon=tooBig||permitted||prohibited||jackoff?icon('denied'):icon(icon_ext.toString(),color),cancel_color=tooBig||permitted||prohibited?'red':'silver',not_defined=false;if(tooBig||permitted||prohibited||not_defined||jackoff)
{$("span#ssfa_rf_"+uid).append("<input type=\"hidden\" id=\""+file_id+"\" value=\""+file_id+"\">");FileUpConfig[uid].removed[i]=file_id;}
if(typeof aFile[uid][i]!==undefined&&aFile[uid][i].name!=='')
{selectedDisplayed+='<tr id="ssfa_upfile_id_'+file_id+'" style="display: table-row;">'+'<td id="ssfa-upfile_type" class="ssfa-sorttype ssfa-'+settings.table+'-first-column">'+
file_icon+'<br>'+extension+'</td>'+'<td id="ssfa-upfile_name" class="ssfa-sortname">'+'<div class="ssfa-upload-input-container">'+'<div class="ssfa-upload-progress ssfa-up-progress-'+color+'" id="ssfa_upload_progress_id_'+file_id+'"></div>'+"<input type=\"text\" class=\"rename_ssfa_upfile\" id=\"rename_ssfa_upfile_id_"+file_id+"\" value=\""+rawname+"\""+readonly+">"+'</div>'+
sizenotice+pernotice+pronotice+'</td>'+'<td id="ssfa-upfile_size" class="ssfa-sortsize">'+'<span class="ssfa-filesize'+warningclass+'">'+nicesize(fileSize)+'</span>'+'</td>'+'<td id="ssfa_upfile_status_'+file_id+'" class="ssfa-sortstatus">'+'<a id="ssfa_remove_id_'+file_id+'" href="javascript:" '+'onclick="fileupRemove(\''+file_id+'\',\''+thefilename+'\',\''+uid+'\',\''+i+'\');">'+'<span class="ssfa-faminicon ssfa-'+cancel_color+' ssfa-icon-console-2"></span>'+'</a>'+'</td>'+'</tr>';}
else not_defined=true;}
selectedDisplayed+="</tbody></table></div></div>";$("div#ssfa_fileup_files_container_"+uid).append(selectedDisplayed);$('input[id^="rename_ssfa_upfile_id_"]').alphanum({allow:allowedchars});if(jackoff)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.tamper4);$("div#ssfa_fileup_files_container_"+uid).html('');}}}
fileupRemove=function(id,filename,uid,i)
{if($("span#ssfa_rf_"+uid+" input#"+id).length){}
else $("span#ssfa_rf_"+uid).append("<input type=\"hidden\" id=\""+id+"\" value=\""+id+"\">");FileUpConfig[uid].removed[i]=id;$("tr#ssfa_upfile_id_"+id).fadeOut(1000).queue(function()
{$(this).remove();$("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid+" tbody").change();if($("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid+" tbody").children('tr').length){}
else $("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid+"").remove();});}
$('span[id^="ssfa_submit_upload_"]').on('click',function(){var uid=$(this).data('uid');var settings=FileUpConfig[uid];if(!settings.fixed&&$('input#ssfa-upload-actionpath-'+uid).val()==='')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.build_path);}
else
{fileupSubmit(uid,0);if(TheFiles[uid]!==undefined&&TheFiles[uid].length>0)
{$(this).parents('span.ssfa_fileup_wrapper').eq(0).fadeTo(500,0).queue(function(){$(this).css({'visibility':'hidden'});});}}});fileupSubmit=function(uid,k)
{if(TheFiles[uid]!==undefined&&TheFiles[uid].length>0)
{if(k<TheFiles[uid].length)
{fileupAjax(TheFiles[uid][k],k,uid);}
else
{$('span#ssfa_submit_upload_'+uid).parents('span.ssfa_fileup_wrapper').eq(0).css({'visibility':'visible','opacity':'1'});TheFiles[uid]=[];}}
else
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.no_files_chosen);}}
fileupAjax=function(file,i,uid)
{var initSettings=FileUpConfig[uid];if(file!==undefined&&file!==''&&file!=="undefined")
{var id=file_id=fileid(file.name,uid),rawname=file.name.substr(0,file.name.lastIndexOf('.'))||file.name,extension=ext(file.name,false),path=initSettings.fixed?initSettings.fixed:String($('input#ssfa-upload-actionpath-'+uid).val()),pathcheck=String(initSettings.pathcheck),removed_file=$("#"+id).val(),newname=String($("input#rename_ssfa_upfile_id_"+id).val()),new_name=newname===''||newname==='undefined'||newname===undefined?file.name:newname+'.'+extension,removed=initSettings.removed,loading=initSettings.loading,fixedchars=initSettings.fixed;if(newname===''||newname==='undefined'||newname===undefined)$("input#rename_ssfa_upfile_id_"+id).val(rawname)
if(removed_file!==''&&removed_file!==undefined&&removed_file==id)fileupSubmit(uid,i+1);else
{var fileupData=new FormData();fileupData.append('upload_nonce',initSettings.nonce);fileupData.append('upload_file',file);fileupData.append('upload_file_id',id);fileupData.append('max_file_size',initSettings.maxsize);fileupData.append('upload_path',path);fileupData.append('new_name',new_name);fileupData.append('extension',extension);fileupData.append('uploader',initSettings.uploader);fileupData.append('identby',initSettings.identby);fileupData.append('overwrite',initSettings.overwrite);fileupData.append('act','upload');fileupData.append('nonce',fileaway_mgmt.nonce);$.ajax({type:'POST',url:fileaway_mgmt.ajaxurl+'?action=fileaway-manager',data:fileupData,id:id,uid:uid,new_name:new_name,rawname:rawname,extension:extension,path:path,pathcheck:pathcheck,removed:removed,loading:loading,fixedchars:fixedchars,cache:false,contentType:false,processData:false,beforeSend:function(xhr,settings)
{$("#ssfa_upfile_status_"+settings.id).html('<span class="ssfa-faminicon ssfa-silver ssfa-icon-denied"></span>');var newpath=settings.new_name.substring(0,settings.new_name.lastIndexOf("/")+1),jackoff=false,message='';if(''+newpath.indexOf('..')>=0||settings.path.indexOf('..')>=0||settings.path==='/')
{jackoff=true;message='<br>'+fileaway_mgmt.double_dots_override;}
if(!jackoff&&$.inArray(settings.id,settings.removed)!=-1)jackoff=true;if(!jackoff&&settings.fixedchars&&settings.new_name.indexOf('/')>=0)
{jackoff=true;message='<br>'+fileaway_mgmt.creation_disabled;}
if(!jackoff&&settings.path.indexOf(settings.pathcheck)<0)
{jackoff=true;message='<br>'+fileaway_mgmt.no_override;}
if(!jackoff&&settings.new_name.indexOf('..')>=0)
{jackoff=true;message='<br>'+fileaway_mgmt.double_dots;}
if(!jackoff)
{var pop=settings.rawname.substring(settings.rawname.lastIndexOf(".")+1,settings.rawname.length);if($.inArray(pop,fileaway_filetype_groups.script)!=-1)
{if($.inArray(settings.extension.toString(),fileaway_filetype_groups.script)==-1&&$.inArray(settings.extension.toString(),fileaway_filetype_groups.css)==-1)
{jackoff=true;message='<br>'+fileaway_mgmt.multi_type;}}}
if(jackoff)
{var upload_failure=fileaway_mgmt.upload_failure.replace('filename',settings.rawname+'.'+settings.extension);$('tr#ssfa_upfile_id_'+settings.id+' td#ssfa-upfile_type').html('<span class="ssfa-faminicon ssfa-red ssfa-icon-denied"></span><br>'+settings.extension);$('td#ssfa_upfile_status_'+settings.id).html('<a id="ssfa_remove_id_'+settings.id+'" href="javascript:" onclick="fileupRemove(\''
+settings.id+'\',\''+settings.rawname+'.'+settings.extension
+'\',\''+settings.uid+'\');"><span class="ssfa-faminicon ssfa-red ssfa-icon-console-2"></span></a>');$('tr#ssfa_upfile_id_'+settings.id+' td#ssfa-upfile_name').append('<br><span class="ssfa-fileup-warning">'+upload_failure+message+'</span>');fileupSubmit(settings.uid,i+1);xhr.abort();}},xhr:function()
{var xhr=new window.XMLHttpRequest();xhr.upload.addEventListener("progress",function(evt)
{if(evt.lengthComputable)
{var percentComplete=evt.loaded/evt.total;$('div#ssfa_upload_progress_id_'+id).width((percentComplete*100)+'%');}},false);return xhr;},success:function(response)
{setTimeout(function()
{if(response.indexOf(id)!=-1)
{$("#ssfa_upfile_status_"+id).html('<span class="ssfa-faminicon ssfa-green ssfa-icon-inbox"></span>');$("#ssfa_upfile_id_"+id).delay(500).fadeOut(1000).queue(function()
{$(this).remove();$("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid+" tbody").change();if($("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid+" tbody").children('tr').length){}
else $("div#ssfa_fileup_files_container_"+uid+" table#ssfa-table-"+uid).remove();});}
else
{var upload_failure=fileaway_mgmt.upload_failure.replace('filename',rawname+'.'+extension);$('tr#ssfa_upfile_id_'+id+' td#ssfa-upfile_type').html('<span class="ssfa-faminicon ssfa-red ssfa-icon-denied"></span><br>'+extension);$('td#ssfa_upfile_status_'+id).html('<a id="ssfa_remove_id_'+file_id+'" href="javascript:" onclick="fileupRemove(\''+id+'\',\''+rawname+'.'+extension
+'\',\''+uid+'\');"><span class="ssfa-faminicon ssfa-red ssfa-icon-console-2"></span></a>');$('tr#ssfa_upfile_id_'+id+' td#ssfa-upfile_name').append('<br><span class="ssfa-fileup-warning">'+upload_failure+'</span>');}
fileupSubmit(uid,i+1);},500);}});}}}
$('select[id^="ssfa-fileup-directories-select-"]').chozed({allow_single_deselect:false,width:'200px',inherit_select_classes:true,no_results_text:fileaway_mgmt.no_results,search_contains:true});$('select[id^="ssfa-fileup-directories-select-"]').on('change',function()
{$uid=this.id.replace('ssfa-fileup-directories-select-','');$loading=$('img#ssfa-fileup-action-ajax-loading-'+$uid);if($(this).val()!=='')
{$basename=$('input#ssfa-upload-actionpath-'+$uid).data('basename');$start=$('input#ssfa-upload-actionpath-'+$uid).data('start');$send=upactionpath(this.value,$basename,$start,$loading,$uid);}});$('body').on('click','a[id^=ssfa-fileup-action-pathpart-]',function(ev)
{ev.preventDefault();$parent=$(this).parents('div').eq(0).attr('id');$uid=$parent.replace('ssfa-fileup-action-path-','');$basename=$('input#ssfa-upload-actionpath-'+$uid).data('basename');$start=$('input#ssfa-upload-actionpath-'+$uid).data('start');$loading=$('img#ssfa-fileup-action-ajax-loading-'+$uid);$pathparts=$(this).attr('data-target');$send=upactionpath($pathparts,$basename,$start,$loading,$uid);});function upactionpath($pathparts,$basename,$start,$loading,$uid)
{var manager_nonce=$('div.ssfa_fileup_container[data-uid="'+$uid+'"]').data('mn');$loading.show();$.post(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'actionpath',uploadaction:'true',pathparts:$pathparts,basename:$basename,start:$start,nonce:fileaway_mgmt.nonce,manager_nonce:manager_nonce},function(response)
{$container=$('div#ssfa-fileup-path-container-'+$uid);$actionpath=$('input#ssfa-upload-actionpath-'+$uid);$putpath=$('div#ssfa-fileup-action-path-'+$uid);$dropdown=$('select#ssfa-fileup-directories-select-'+$uid);$dropdown.empty().append(response.ops).trigger('chozed:updated').trigger('liszt:updated');$actionpath.val(response.pathparts);$putpath.html(response.crumbs).append($loading);$loading.hide();});return false;}}});jQuery(document).ready(function($)
{if($('div.ssfa-fileaway-values[data-editor="true"]').length)
{$('table.ssfa-values-table > thead > tr > th').contextMenu('ssfa-values-rename-column-context',{'Rename Column':{click:function(element){fa_values_renamecol(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-quill"></span> '+fileaway_mgmt.rename_column+'</a>',klass:"menu-item-rename-col-1"},'Insert New Column Before':{click:function(element){fa_values_newcol(element.attr('id'),'before');},link:'<a href="#"><span class="ssfa-icon-chart-alt"></span> '+fileaway_mgmt.insert_col_before+'</a>',klass:"menu-item-2"},'Insert New Column After':{click:function(element){fa_values_newcol(element.attr('id'),'after');},link:'<a href="#"><span class="ssfa-icon-chart-alt"></span> '+fileaway_mgmt.insert_col_after+'</a>',klass:"menu-item-3"},'Delete Column':{click:function(element){fa_values_deletecol(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-remove"></span> '+fileaway_mgmt.delete_column+'</a>',klass:"menu-item-4"},'Save Backup':{click:function(element){fa_values_backup(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-disk"></span> '+fileaway_mgmt.save_backup+'</a>',klass:"menu-item-5"},});fa_values_renamecol=function(id,postype)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label,cancel:fileaway_mgmt.cancel_label}});filertify.prompt(fileaway_mgmt.new_column_name,function(e,str)
{if(e)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$new=str;var values_nonce=$('th#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$old=$('th#'+id).data('col');if($new==$old)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});return false;}
$colnum=$('th#'+id).data('colnum');$src=$('th#'+id).parents('table').eq(0).data('src');$read=$('th#'+id).parents('table').eq(0).data('read');$write=$('th#'+id).parents('table').eq(0).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'colrename',src:$src,oldname:$old,newname:$new,colnum:$colnum,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{if(response.status=='success')
{location.reload(true);}
else
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}});}
fa_values_newcol=function(id,postype)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label,cancel:fileaway_mgmt.cancel_label}});filertify.prompt(fileaway_mgmt.new_column_name,function(e,str)
{if(e)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");var values_nonce=$('th#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$col=str;$colnum=$('th#'+id).data('colnum');$colnum=postype=='after'?$colnum+1:$colnum;$src=$('th#'+id).parents('table').eq(0).data('src');$read=$('th#'+id).parents('table').eq(0).data('read');$write=$('th#'+id).parents('table').eq(0).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'createcol',src:$src,col:$col,colnum:$colnum,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{if(response.status=='success')
{location.reload(true);}
else
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}});}
fa_values_deletecol=function(id)
{$uid=$('th#'+id).parents('table').eq(0).data('uid');$numcols=$('table#ssfa-table-'+$uid+' thead tr th').length;if($numcols<2)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.atleast_one_column)}
else
{$col=$('th#'+id).data('col');var confirmmessage=fileaway_mgmt.delete_confirm.replace('numfiles',$col);filertify.set({labels:{ok:fileaway_mgmt.confirm_label,cancel:fileaway_mgmt.cancel_label}});filertify.confirm(confirmmessage,function(e,str)
{if(e)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");var values_nonce=$('th#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$colnum=$('th#'+id).data('colnum');$src=$('th#'+id).parents('table').eq(0).data('src');$read=$('th#'+id).parents('table').eq(0).data('read');$write=$('th#'+id).parents('table').eq(0).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'coldelete',src:$src,col:$col,colnum:$colnum,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{if(response.status=='success')
{location.reload(true);}
else
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}});}}
fa_row_context_menu_init=function()
{$('tr.ssfa-values-context td').contextMenu('ssfa-values-context',{'Insert New Row':{click:function(element){fa_values_insert_row(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-chart-alt"></span> '+fileaway_mgmt.insert_row+'</a>',klass:"menu-item-1"},'Delete Row':{click:function(element){fa_values_delete(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-remove"></span> '+fileaway_mgmt.delete_row+'</a>',klass:"menu-item-2"},'Save Backup':{click:function(element){fa_values_backup(element.attr('id'));},link:'<a href="#"><span class="ssfa-icon-disk"></span> '+fileaway_mgmt.save_backup+'</a>',klass:"menu-item-3"},});}
fa_row_context_menu_init();fa_values_insert_row=function(id)
{$uid=$('td#'+id).parents('table').eq(0).data('uid');var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");var values_nonce=$('td#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$numrows=$('table#ssfa-table-'+$uid+' tbody tr').length;$numcols=$('table#ssfa-table-'+$uid+' tbody tr:first-child td').length;$src=$('table#ssfa-table-'+$uid).data('src');$theme=$('table#ssfa-table-'+$uid).data('theme');$read=$('table#ssfa-table-'+$uid).data('read');$write=$('table#ssfa-table-'+$uid).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'newrow',src:$src,numrows:$numrows,numcols:$numcols,theme:$theme,uid:$uid,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response.status=='success')
{$('td#'+id).parents('tr').eq(0).after(response.html).hide().fadeIn(500);fa_row_context_menu_init();}
else
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}
fa_values_delete=function(id)
{$uid=$('td#'+id).parents('table').eq(0).data('uid');$numrows=$('table#ssfa-table-'+$uid+' tbody tr').length;var values_nonce=$('td#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');if($numrows<2)
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.atleast_one_row)}
else
{$values=[];id=$('td#'+id).parents('tr').eq(0).attr('id');$('tr#'+id+' td span').each(function(i){$values[i]=$(this).data('col')+': '+$(this).text();});$allvalues=':<br><br>'+$values.join('<br>')+'<br><br>';var confirmmessage=fileaway_mgmt.delete_confirm.replace('numfiles.',$allvalues);filertify.set({labels:{ok:fileaway_mgmt.confirm_label,cancel:fileaway_mgmt.cancel_label}});filertify.confirm(confirmmessage,function(e)
{if(e)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$row=$('tr#'+id).data('row');$src=$('tr#'+id).parents('table').eq(0).data('src');$read=$('tr#'+id).parents('table').eq(0).data('read');$write=$('tr#'+id).parents('table').eq(0).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'deleterow',src:$src,row:$row,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{if(response.status=='success')
{location.reload(true);}
else
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}});}}
fa_values_backup=function(id)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$src=$('#'+id).parents('table').eq(0).data('src');$read=$('#'+id).parents('table').eq(0).data('read');$write=$('#'+id).parents('table').eq(0).data('write');var values_nonce=$('#'+id).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'backupcsv',src:$src,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response.status!=='success')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(response.message);}})
return false;}
$('body').on('click','span[id^="ssfa-delete-csv-"]',function()
{$uid=$(this).data('uid');var values_nonce=$(this).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$src=$('table#ssfa-table-'+$uid).data('src');$filename=$('table#ssfa-table-'+$uid).data('filename');var confirmmessage=fileaway_mgmt.delete_confirm.replace('numfiles.','<strong><code>'+$filename+'</code></strong>');filertify.set({labels:{ok:fileaway_mgmt.confirm_label,cancel:fileaway_mgmt.cancel_label}});filertify.confirm(confirmmessage,function(e)
{if(e)
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'deletecsv',src:$src,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response.status=='success')
{$('table#ssfa-table-'+$uid).fadeOut(500);$('select#ssfa-fileaway-values-select-'+$uid).find('option:first').attr('selected','selected').trigger('chozed:updated').trigger('change');}
else
{filertify.alert(response.message);}})
return false;}});});$('body').on('click','span[id^="ssfa-new-csv-"]',function()
{$uid=$(this).data('uid');var values_nonce=$(this).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$path=$(this).data('path');$pg=$(this).data('pg');$read=$(this).data('read');$write=$(this).data('write');$recursive=$(this).data('recurse');filertify.set({labels:{ok:fileaway_mgmt.next_label,cancel:fileaway_mgmt.cancel_label}});filertify.prompt(fileaway_mgmt.new_file_name,function(e,name)
{if(e)
{if(name=='')
{filertify.set({labels:{ok:'OK'}});filertify.alert(fileaway_mgmt.specify_file_name);}
else
{filertify.set({labels:{ok:fileaway_mgmt.create_label,cancel:fileaway_mgmt.cancel_label}});filertify.prompt(fileaway_mgmt.column_names,function(ev,cols)
{if(ev)
{if(cols=='')
{filertify.set({labels:{ok:fileaway_mgmt.ok_label}});filertify.alert(fileaway_mgmt.specify_column_name);}
else
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'makecsv',path:$path,pg:$pg,querystring:location.search,name:name,cols:cols,recursive:$recursive,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response.status=='success')
{window.location.href=response.redirect;}
else
{filertify.alert(response.message);}})
return false;}}});}}});});$('body').on('dblclick','td[id^="cell-ssfa-values-"]',function()
{$sfx=this.id.replace('cell-','');$span=$('span#value-'+$sfx);$input=$('input#input-'+$sfx);$span.fadeOut(400);setTimeout(function(){$input.fadeIn(400).focus();},400);});$('body').on('blur','input[id^="input-ssfa-values-"]',function()
{$sfx=this.id.replace('input-','');var values_nonce=$(this).parents('div.ssfa-fileaway-values').eq(0).data('fvn');$input=$(this);$span=$('span#value-'+$sfx);$oldvalue=$span.text();$input.fadeOut(400);$value=$(this).val();if($value===$oldvalue)
{setTimeout(function(){$span.fadeIn(400);},400);}
else
{var shadow=$('<div id="ssfa-values-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$row=$(this).data('row');$col=$(this).data('col');$colnum=$(this).data('colnum');$src=$(this).parents('table').eq(0).data('src');$read=$(this).parents('table').eq(0).data('read');$write=$(this).parents('table').eq(0).data('write');$.post
(fileaway_mgmt.ajaxurl,{action:'fileaway-manager',dataType:'html',act:'values',src:$src,row:$row,col:$col,colnum:$colnum,oldvalue:$oldvalue,newvalue:$value,read:$read,writ:$write,nonce:fileaway_mgmt.nonce,values_nonce:values_nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response.status=='success')
{$span.text($value);$span.fadeIn(400);}
else
{$span.fadeIn(400);filertify.alert(response.message);}})
return false;}});}});;jQuery(document).ready(function($)
{$('body').on('contextmenu','div.ssfa-meta-container a[data-stat="true"], div#ssfa-flightbox a[data-stat="true"]',function()
{return false;});$('body').on('click','div.ssfa-meta-container a[data-stat="true"], div#ssfa-flightbox a[data-stat="true"]',function(ev)
{if($(this).data('stat'))
{ev.preventDefault();var href=$(this).attr('href');var type='default';if(href.indexOf('?s2member')>=0)type='s2member';else if(href.indexOf('?fileaway')>=0)type='encrypted';var shadow=$('<div id="ssfa-stats-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$.post(fileaway_stats.ajaxurl,{action:'fileaway-stats',dataType:'html',act:'insert',file:href,type:type,nonce:fileaway_stats.nonce},function(response)
{$("body").css("cursor","auto");shadow.fadeOut(500).queue(function(){$(this).remove();});if(response!='error')window.location=response;});return false;}});$('span[id^="stataway-refresh-"]').on('click',function()
{$b=$('input#stataway-fsb').val();$e=$('input#stataway-fse').val();if($b==''||$e=='')filertify.alert('Please select a beginning and an end date.');else
{var shadow=$('<div id="ssfa-stats-shadow" style="display:none;" />');$('body').append(shadow);shadow.fadeIn(1000);$("body").css("cursor","progress");$q=$(this).data('url').indexOf('?')>=0?'&':'?';window.location=$(this).data('url')+$q+"fsb="+$b+"&fse="+$e;}});});
;/**************************************************************************
 * jquery.themepunch.revolution.js - jQuery Plugin for Revolution Slider
 * @version: 4.6.8 (27.02.2015)
 * @requires jQuery v1.7 or later (tested on 1.9)
 * @author ThemePunch
**************************************************************************/


function revslider_showDoubleJqueryError(t){var e="Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";e+="<br> This includes make eliminates the revolution slider libraries, and make it not work.",e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Slider Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it.",e="<span style='font-size:16px;color:#BC0C06;'>"+e+"</span>",jQuery(t).show().html(e)}!function(t,e){function a(){var t=!1;return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?navigator.userAgent.match(/OS 4_\d like Mac OS X/i)&&(t=!0):t=!1,t}function i(i,d){if(i==e)return!1;if(i.data("aimg")!=e&&("enabled"==i.data("aie8")&&s(8)||"enabled"==i.data("amobile")&&Z())&&i.html('<img class="tp-slider-alternative-image" src="'+i.data("aimg")+'">'),("preview1"==d.navigationStyle||"preview3"==d.navigationStyle||"preview4"==d.navigationStyle)&&(d.soloArrowLeftHalign="left",d.soloArrowLeftValign="center",d.soloArrowLeftHOffset=0,d.soloArrowLeftVOffset=0,d.soloArrowRightHalign="right",d.soloArrowRightValign="center",d.soloArrowRightHOffset=0,d.soloArrowRightVOffset=0,d.navigationArrows="solo"),"on"==d.simplifyAll&&(s(8)||a())&&(i.find(".tp-caption").each(function(){var e=t(this);e.removeClass("customin").removeClass("customout").addClass("fadein").addClass("fadeout"),e.data("splitin",""),e.data("speed",400)}),i.find(">ul>li").each(function(){var e=t(this);e.data("transition","fade"),e.data("masterspeed",500),e.data("slotamount",1);var a=e.find(">img").first();a.data("kenburns","off")})),d.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),"on"!=d.fullWidth&&"on"!=d.fullScreen&&(d.autoHeight="off"),"on"==d.fullScreen&&(d.autoHeight="on"),"on"!=d.fullWidth&&"on"!=d.fullScreen&&(forceFulWidth="off"),"on"==d.fullWidth&&"off"==d.autoHeight&&i.css({maxHeight:d.startheight+"px"}),Z()&&"on"==d.hideThumbsOnMobile&&"thumb"==d.navigationType&&(d.navigationType="none"),Z()&&"on"==d.hideBulletsOnMobile&&"bullet"==d.navigationType&&(d.navigationType="none"),Z()&&"on"==d.hideBulletsOnMobile&&"both"==d.navigationType&&(d.navigationType="none"),Z()&&"on"==d.hideArrowsOnMobile&&(d.navigationArrows="none"),"on"==d.forceFullWidth&&0==i.closest(".forcefullwidth_wrapper_tp_banner").length){var f=i.parent().offset().left,g=i.parent().css("marginBottom"),m=i.parent().css("marginTop");g==e&&(g=0),m==e&&(m=0),i.parent().wrap('<div style="position:relative;width:100%;height:auto;margin-top:'+m+";margin-bottom:"+g+'" class="forcefullwidth_wrapper_tp_banner"></div>'),i.closest(".forcefullwidth_wrapper_tp_banner").append('<div class="tp-fullwidth-forcer" style="width:100%;height:'+i.height()+'px"></div>'),i.css({backgroundColor:i.parent().css("backgroundColor"),backgroundImage:i.parent().css("backgroundImage")}),i.parent().css({left:0-f+"px",position:"absolute",width:t(window).width()}),d.width=t(window).width()}try{i.parent().find(".tp-bullets.tp-thumbs").css(d.hideThumbsUnderResolution>t(window).width()&&0!=d.hideThumbsUnderResolution?{display:"none"}:{display:"block"})}catch(w){}if(!i.hasClass("revslider-initialised")){i.addClass("revslider-initialised"),i.attr("id")==e&&i.attr("id","revslider-"+Math.round(1e3*Math.random()+5)),d.firefox13=!1,d.ie=!t.support.opacity,d.ie9=9==document.documentMode,d.origcd=d.delay;{var b=t.fn.jquery.split("."),y=parseFloat(b[0]),x=parseFloat(b[1]);parseFloat(b[2]||"0")}1==y&&7>x&&i.html('<div style="text-align:center; padding:40px 0px; font-size:20px; color:#992222;"> The Current Version of jQuery:'+b+" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>"),y>1&&(d.ie=!1),t.support.transition||(t.fn.transition=t.fn.animate),i.find(".caption").each(function(){t(this).addClass("tp-caption")}),Z()&&i.find(".tp-caption").each(function(){var e=t(this);(1==e.data("autoplayonlyfirsttime")||"true"==e.data("autoplayonlyfirsttime"))&&e.data("autoplayonlyfirsttime","false"),(1==e.data("autoplay")||"true"==e.data("autoplay"))&&e.data("autoplay",!1)});var T=0,k=0,C="http";if("https:"===location.protocol&&(C="https"),i.find(".tp-caption").each(function(){try{if((t(this).data("ytid")!=e||t(this).find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==T){T=1;var a=document.createElement("script"),i="https";a.src=i+"://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0],o=!0;t("head").find("*").each(function(){t(this).attr("src")==i+"://www.youtube.com/iframe_api"&&(o=!1)}),o&&n.parentNode.insertBefore(a,n)}}catch(r){}try{if((t(this).data("vimeoid")!=e||t(this).find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==k){k=1;var s=document.createElement("script");s.src=C+"://a.vimeocdn.com/js/froogaloop2.min.js";var n=document.getElementsByTagName("script")[0],o=!0;t("head").find("*").each(function(){t(this).attr("src")==C+"://a.vimeocdn.com/js/froogaloop2.min.js"&&(o=!1)}),o&&n.parentNode.insertBefore(s,n)}}catch(r){}try{t(this).data("videomp4")!=e||t(this).data("videowebm")!=e}catch(r){}}),i.find(".tp-caption video").each(function(){t(this).removeClass("video-js").removeClass("vjs-default-skin"),t(this).attr("preload",""),t(this).css({display:"none"})}),i.find(">ul:first-child >li").each(function(){var e=t(this);e.data("origindex",e.index())}),"on"==d.shuffle){var z=new Object,O=i.find(">ul:first-child >li:first-child");z.fstransition=O.data("fstransition"),z.fsmasterspeed=O.data("fsmasterspeed"),z.fsslotamount=O.data("fsslotamount");for(var I=0;I<i.find(">ul:first-child >li").length;I++){var A=Math.round(Math.random()*i.find(">ul:first-child >li").length);i.find(">ul:first-child >li:eq("+A+")").prependTo(i.find(">ul:first-child"))}var M=i.find(">ul:first-child >li:first-child");M.data("fstransition",z.fstransition),M.data("fsmasterspeed",z.fsmasterspeed),M.data("fsslotamount",z.fsslotamount)}d.slots=4,d.act=-1,d.next=0,d.startWithSlide!=e&&(d.next=d.startWithSlide);var S=o("#")[0];if(S.length<9&&S.split("slide").length>1){var P=parseInt(S.split("slide")[1],0);1>P&&(P=1),P>i.find(">ul:first >li").length&&(P=i.find(">ul:first >li").length),d.next=P-1}d.firststart=1,d.navigationHOffset==e&&(d.navOffsetHorizontal=0),d.navigationVOffset==e&&(d.navOffsetVertical=0),i.append('<div class="tp-loader '+d.spinner+'"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'),0==i.find(".tp-bannertimer").length&&i.append('<div class="tp-bannertimer" style="visibility:hidden"></div>');var D=i.find(".tp-bannertimer");if(D.length>0&&D.css({width:"0%"}),i.addClass("tp-simpleresponsive"),d.container=i,d.slideamount=i.find(">ul:first >li").length,0==i.height()&&i.height(d.startheight),(d.startwidth==e||0==d.startwidth)&&(d.startwidth=i.width()),(d.startheight==e||0==d.startheight)&&(d.startheight=i.height()),d.width=i.width(),d.height=i.height(),d.bw=d.startwidth/i.width(),d.bh=d.startheight/i.height(),d.width!=d.startwidth&&(d.height=Math.round(d.startheight*(d.width/d.startwidth)),i.height(d.height)),0!=d.shadow){i.parent().append('<div class="tp-bannershadow tp-shadow'+d.shadow+'"></div>');var f=0;"on"==d.forceFullWidth&&(f=0-d.container.parent().offset().left),i.parent().find(".tp-bannershadow").css({width:d.width,left:f})}i.find("ul").css({display:"none"});i.find("ul").css({display:"block"}),v(i,d),"off"!=d.parallax&&Q(i,d),d.slideamount>1&&l(i,d),d.slideamount>1&&"thumb"==d.navigationType&&te(i,d),d.slideamount>1&&h(i,d),"on"==d.keyboardNavigation&&c(i,d),p(i,d),d.hideThumbs>0&&u(i,d),setTimeout(function(){L(i,d)},d.startDelay),d.startDelay=0,d.slideamount>1&&j(i,d),setTimeout(function(){i.trigger("revolution.slide.onloaded")},500),t("body").data("rs-fullScreenMode",!1),t(window).on("mozfullscreenchange webkitfullscreenchange fullscreenchange",function(){t("body").data("rs-fullScreenMode",!t("body").data("rs-fullScreenMode")),t("body").data("rs-fullScreenMode")&&setTimeout(function(){t(window).trigger("resize")},200)});var H="resize.revslider-"+i.attr("id");t(window).on(H,function(){if(i==e)return!1;if(0!=t("body").find(i)&&"on"==d.forceFullWidth){var a=d.container.closest(".forcefullwidth_wrapper_tp_banner").offset().left;d.container.parent().css({left:0-a+"px",width:t(window).width()})}(i.outerWidth(!0)!=d.width||i.is(":hidden"))&&r(i,d)});try{0!=d.hideThumbsUnderResoluition&&"thumb"==d.navigationType&&t(".tp-bullets").css(d.hideThumbsUnderResoluition>t(window).width()?{display:"none"}:{display:"block"})}catch(w){}i.find(".tp-scrollbelowslider").on("click",function(){var e=0;try{e=t("body").find(d.fullScreenOffsetContainer).height()}catch(a){}try{e-=parseInt(t(this).data("scrolloffset"),0)}catch(a){}t("body,html").animate({scrollTop:i.offset().top+i.find(">ul >li").height()-e+"px"},{duration:400})});var W=i.parent();t(window).width()<d.hideSliderAtLimit&&(i.trigger("stoptimer"),"none"!=W.css("display")&&W.data("olddisplay",W.css("display")),W.css({display:"none"})),d.disableFocusListener||"true"==d.disableFocusListener||d.disableFocusListener===!0||n(i,d)}}t.fn.extend({revolution:function(a){var n={delay:9e3,startheight:500,startwidth:960,fullScreenAlignForce:"off",autoHeight:"off",hideTimerBar:"off",hideThumbs:200,hideNavDelayOnMobile:1500,thumbWidth:100,thumbHeight:50,thumbAmount:3,navigationType:"bullet",navigationArrows:"solo",navigationInGrid:"off",hideThumbsOnMobile:"off",hideBulletsOnMobile:"off",hideArrowsOnMobile:"off",hideThumbsUnderResoluition:0,navigationStyle:"round",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,keyboardNavigation:"on",touchenabled:"on",onHoverStop:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLimit:0,hideSliderAtLimit:0,shadow:0,fullWidth:"off",fullScreen:"off",minFullScreenHeight:0,fullScreenOffsetContainer:"",fullScreenOffset:"0",dottedOverlay:"none",forceFullWidth:"off",spinner:"spinner0",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,isJoomla:!1,parallax:"off",parallaxLevels:[10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],parallaxBgFreeze:"off",parallaxOpacity:"on",parallaxDisableOnMobile:"off",panZoomDisableOnMobile:"off",simplifyAll:"on",minHeight:0,nextSlideOnWindowFocus:"off",disableFocusListener:!0,startDelay:0};return a=t.extend({},n,a),this.each(function(){if(1==window.tplogs)try{console.groupCollapsed("Slider Revolution 4.6.8 Initialisation on "+t(this).attr("id")),console.groupCollapsed("Used Options:"),console.info(a),console.groupEnd(),console.groupCollapsed("Tween Engine:")}catch(n){}if(punchgs.TweenLite==e){if(1==window.tplogs)try{console.error("GreenSock Engine Does not Exist!")}catch(n){}return!1}if(punchgs.force3D=!0,1==window.tplogs)try{console.info("GreenSock Engine Version in Slider Revolution:"+punchgs.TweenLite.version)}catch(n){}if("on"==a.simplifyAll||(punchgs.TweenLite.lagSmoothing(1e3,16),punchgs.force3D="true"),1==window.tplogs)try{console.groupEnd(),console.groupEnd()}catch(n){}i(t(this),a)})},revscroll:function(a){return this.each(function(){var i=t(this);i!=e&&i.length>0&&t("body").find("#"+i.attr("id")).length>0&&t("body,html").animate({scrollTop:i.offset().top+i.find(">ul >li").height()-a+"px"},{duration:400})})},revredraw:function(){return this.each(function(){var a=t(this);if(a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0){var i=a.parent().find(".tp-bannertimer"),n=i.data("opt");r(a,n)}})},revkill:function(){var a=this,i=t(this);if(i!=e&&i.length>0&&t("body").find("#"+i.attr("id")).length>0){i.data("conthover",1),i.data("conthover-changed",1),i.trigger("revolution.slide.onpause");var n=i.parent().find(".tp-bannertimer"),o=n.data("opt");o.bannertimeronpause=!0,i.trigger("stoptimer"),punchgs.TweenLite.killTweensOf(i.find("*"),!1),punchgs.TweenLite.killTweensOf(i,!1),i.unbind("hover, mouseover, mouseenter,mouseleave, resize");var r="resize.revslider-"+i.attr("id");t(window).off(r),i.find("*").each(function(){var a=t(this);a.unbind("on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer"),a.off("on, hover, mouseenter,mouseleave,mouseover, resize"),a.data("mySplitText",null),a.data("ctl",null),a.data("tween")!=e&&a.data("tween").kill(),a.data("kenburn")!=e&&a.data("kenburn").kill(),a.remove(),a.empty(),a=null}),punchgs.TweenLite.killTweensOf(i.find("*"),!1),punchgs.TweenLite.killTweensOf(i,!1),n.remove();try{i.closest(".forcefullwidth_wrapper_tp_banner").remove()}catch(s){}try{i.closest(".rev_slider_wrapper").remove()}catch(s){}try{i.remove()}catch(s){}return i.empty(),i.html(),i=null,o=null,delete a.container,delete a.opt,!0}return!1},revpause:function(){return this.each(function(){var a=t(this);if(a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0){a.data("conthover",1),a.data("conthover-changed",1),a.trigger("revolution.slide.onpause");var i=a.parent().find(".tp-bannertimer"),n=i.data("opt");n.bannertimeronpause=!0,a.trigger("stoptimer")}})},revresume:function(){return this.each(function(){var a=t(this);if(a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0){a.data("conthover",0),a.data("conthover-changed",1),a.trigger("revolution.slide.onresume");var i=a.parent().find(".tp-bannertimer"),n=i.data("opt");n.bannertimeronpause=!1,a.trigger("starttimer")}})},revnext:function(){return this.each(function(){var a=t(this);a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0&&a.parent().find(".tp-rightarrow").click()})},revprev:function(){return this.each(function(){var a=t(this);a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0&&a.parent().find(".tp-leftarrow").click()})},revmaxslide:function(){return t(this).find(">ul:first-child >li").length},revcurrentslide:function(){var a=t(this);if(a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0){var i=a.parent().find(".tp-bannertimer"),n=i.data("opt");return n.act}},revlastslide:function(){var a=t(this);if(a!=e&&a.length>0&&t("body").find("#"+a.attr("id")).length>0){var i=a.parent().find(".tp-bannertimer"),n=i.data("opt");return n.lastslide}},revshowslide:function(a){return this.each(function(){var i=t(this);i!=e&&i.length>0&&t("body").find("#"+i.attr("id")).length>0&&(i.data("showus",a),i.parent().find(".tp-rightarrow").click())})}});var n=(function(){var t,e,a={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(t in a)if(t in document){e=a[t];break}return function(a){return a&&document.addEventListener(e,a),!document[t]}}(),function(a,i){var n=document.documentMode===e,o=window.chrome;n&&!o?t(window).on("focusin",function(){return a==e?!1:void setTimeout(function(){"on"==i.nextSlideOnWindowFocus&&a.revnext(),a.revredraw()},300)}).on("focusout",function(){}):window.addEventListener?(window.addEventListener("focus",function(){return a==e?!1:void setTimeout(function(){"on"==i.nextSlideOnWindowFocus&&a.revnext(),a.revredraw()},300)},!1),window.addEventListener("blur",function(){},!1)):(window.attachEvent("focus",function(){setTimeout(function(){return a==e?!1:("on"==i.nextSlideOnWindowFocus&&a.revnext(),void a.revredraw())},300)}),window.attachEvent("blur",function(){}))}),o=function(t){for(var e,a=[],i=window.location.href.slice(window.location.href.indexOf(t)+1).split("_"),n=0;n<i.length;n++)i[n]=i[n].replace("%3D","="),e=i[n].split("="),a.push(e[0]),a[e[0]]=e[1];return a},r=function(a,i){if(a==e)return!1;try{0!=i.hideThumbsUnderResoluition&&"thumb"==i.navigationType&&t(".tp-bullets").css(i.hideThumbsUnderResoluition>t(window).width()?{display:"none"}:{display:"block"})}catch(n){}a.find(".defaultimg").each(function(){m(t(this),i)});var o=a.parent();t(window).width()<i.hideSliderAtLimit?(a.trigger("stoptimer"),"none"!=o.css("display")&&o.data("olddisplay",o.css("display")),o.css({display:"none"})):a.is(":hidden")&&(o.css(o.data("olddisplay")!=e&&"undefined"!=o.data("olddisplay")&&"none"!=o.data("olddisplay")?{display:o.data("olddisplay")}:{display:"block"}),a.trigger("restarttimer"),setTimeout(function(){r(a,i)},150));var s=0;"on"==i.forceFullWidth&&(s=0-i.container.parent().offset().left);try{a.parent().find(".tp-bannershadow").css({width:i.width,left:s})}catch(n){}var d=a.find(">ul >li:eq("+i.act+") .slotholder"),l=a.find(">ul >li:eq("+i.next+") .slotholder");y(a,i,a),punchgs.TweenLite.set(l.find(".defaultimg"),{opacity:0}),d.find(".defaultimg").css({opacity:1}),l.find(".defaultimg").each(function(){var n=t(this);"on"==i.panZoomDisableOnMobile||n.data("kenburn")!=e&&(n.data("kenburn").restart(),N(a,i,!0))});var h=a.find(">ul >li:eq("+i.next+")"),c=a.parent().find(".tparrows");c.hasClass("preview2")&&c.css({width:parseInt(c.css("minWidth"),0)}),_(h,i,!0),f(a,i)},s=function(e,a){var i=t('<div style="display:none;"/>').appendTo(t("body"));i.html("<!--[if "+(a||"")+" IE "+(e||"")+"]><a>&nbsp;</a><![endif]-->");var n=i.find("a").length;return i.remove(),n},d=function(t,e){t.next==e.find(">ul >li").length-1&&(t.looptogo=t.looptogo-1,t.looptogo<=0&&(t.stopLoop="on")),L(e,t)},l=function(e,a){var i="hidebullets";0==a.hideThumbs&&(i=""),("bullet"==a.navigationType||"both"==a.navigationType)&&e.parent().append('<div class="tp-bullets '+i+" simplebullets "+a.navigationStyle+'"></div>');var n=e.parent().find(".tp-bullets");e.find(">ul:first >li").each(function(t){e.find(">ul:first >li:eq("+t+") img:first").attr("src");n.append('<div class="bullet"></div>');n.find(".bullet:first")}),n.find(".bullet").each(function(i){var n=t(this);i==a.slideamount-1&&n.addClass("last"),0==i&&n.addClass("first"),n.click(function(){var t=!1,i=n.index();("withbullet"==a.navigationArrows||"nexttobullets"==a.navigationArrows)&&(i=n.index()-1),i==a.act&&(t=!0),0!=a.transition||t||(a.next=i,d(a,e))})}),n.append('<div class="tpclear"></div>'),f(e,a)},h=function(t,a){function i(e){t.parent().append('<div style="'+n+'" class="tp-'+e+"arrow "+o+" tparrows "+r+'"><div class="tp-arr-allwrapper"><div class="tp-arr-iwrapper"><div class="tp-arr-imgholder"></div><div class="tp-arr-imgholder2"></div><div class="tp-arr-titleholder"></div><div class="tp-arr-subtitleholder"></div></div></div></div>')}var n=(t.find(".tp-bullets"),""),o="hidearrows",r=a.navigationStyle;0==a.hideThumbs&&(o=""),"none"==a.navigationArrows&&(n="visibility:hidden;display:none"),a.soloArrowStyle="default "+a.navigationStyle,"none"!=a.navigationArrows&&"nexttobullets"!=a.navigationArrows&&(r=a.soloArrowStyle),i("left"),i("right"),t.parent().find(".tp-rightarrow").click(function(){0==a.transition&&(a.next=t.data("showus")!=e&&-1!=t.data("showus")?t.data("showus")-1:a.next+1,t.data("showus",-1),a.next>=a.slideamount&&(a.next=0),a.next<0&&(a.next=0),a.act!=a.next&&d(a,t))}),t.parent().find(".tp-leftarrow").click(function(){0==a.transition&&(a.next=a.next-1,a.leftarrowpressed=1,a.next<0&&(a.next=a.slideamount-1),d(a,t))}),f(t,a)},c=function(a,i){t(document).keydown(function(t){0==i.transition&&39==t.keyCode&&(i.next=a.data("showus")!=e&&-1!=a.data("showus")?a.data("showus")-1:i.next+1,a.data("showus",-1),i.next>=i.slideamount&&(i.next=0),i.next<0&&(i.next=0),i.act!=i.next&&d(i,a)),0==i.transition&&37==t.keyCode&&(i.next=i.next-1,i.leftarrowpressed=1,i.next<0&&(i.next=i.slideamount-1),d(i,a))}),f(a,i)},p=function(e,a){var i="vertical";"on"==a.touchenabled&&(1==a.drag_block_vertical&&(i="none"),e.swipe({allowPageScroll:i,fingers:a.swipe_min_touches,treshold:a.swipe_treshold,swipe:function(n,o){switch(o){case"left":0==a.transition&&(a.next=a.next+1,a.next==a.slideamount&&(a.next=0),d(a,e));break;case"right":0==a.transition&&(a.next=a.next-1,a.leftarrowpressed=1,a.next<0&&(a.next=a.slideamount-1),d(a,e));break;case"up":"none"==i&&t("html, body").animate({scrollTop:e.offset().top+e.height()+"px"});break;case"down":"none"==i&&t("html, body").animate({scrollTop:e.offset().top-t(window).height()+"px"})}}}))},u=function(t,e){var a=t.parent().find(".tp-bullets"),i=t.parent().find(".tparrows");if(null==a){t.append('<div class=".tp-bullets"></div>');var a=t.parent().find(".tp-bullets")}if(null==i){t.append('<div class=".tparrows"></div>');var i=t.parent().find(".tparrows")}if(t.data("hideThumbs",e.hideThumbs),a.addClass("hidebullets"),i.addClass("hidearrows"),Z())try{t.hammer().on("touch",function(){t.addClass("hovered"),"on"==e.onHoverStop&&t.trigger("stoptimer"),clearTimeout(t.data("hideThumbs")),a.removeClass("hidebullets"),i.removeClass("hidearrows")}),t.hammer().on("release",function(){t.removeClass("hovered"),t.trigger("starttimer"),t.hasClass("hovered")||a.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){a.addClass("hidebullets"),i.addClass("hidearrows"),t.trigger("starttimer")},e.hideNavDelayOnMobile))})}catch(n){}else a.hover(function(){e.overnav=!0,"on"==e.onHoverStop&&t.trigger("stoptimer"),a.addClass("hovered"),clearTimeout(t.data("hideThumbs")),a.removeClass("hidebullets"),i.removeClass("hidearrows")},function(){e.overnav=!1,t.trigger("starttimer"),a.removeClass("hovered"),t.hasClass("hovered")||a.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){a.addClass("hidebullets"),i.addClass("hidearrows")},e.hideThumbs))}),i.hover(function(){e.overnav=!0,"on"==e.onHoverStop&&t.trigger("stoptimer"),a.addClass("hovered"),clearTimeout(t.data("hideThumbs")),a.removeClass("hidebullets"),i.removeClass("hidearrows")},function(){e.overnav=!1,t.trigger("starttimer"),a.removeClass("hovered")}),t.on("mouseenter",function(){t.addClass("hovered"),"on"==e.onHoverStop&&t.trigger("stoptimer"),clearTimeout(t.data("hideThumbs")),a.removeClass("hidebullets"),i.removeClass("hidearrows")}),t.on("mouseleave",function(){t.removeClass("hovered"),t.trigger("starttimer"),t.hasClass("hovered")||a.hasClass("hovered")||t.data("hideThumbs",setTimeout(function(){a.addClass("hidebullets"),i.addClass("hidearrows")},e.hideThumbs))})},f=function(e,a){var i=e.parent(),n=i.find(".tp-bullets");if("thumb"==a.navigationType){n.find(".thumb").each(function(){var e=t(this);e.css({width:a.thumbWidth*a.bw+"px",height:a.thumbHeight*a.bh+"px"})});var o=n.find(".tp-mask");o.width(a.thumbWidth*a.thumbAmount*a.bw),o.height(a.thumbHeight*a.bh),o.parent().width(a.thumbWidth*a.thumbAmount*a.bw),o.parent().height(a.thumbHeight*a.bh)}var r=i.find(".tp-leftarrow"),s=i.find(".tp-rightarrow");"thumb"==a.navigationType&&"nexttobullets"==a.navigationArrows&&(a.navigationArrows="solo"),"nexttobullets"==a.navigationArrows&&(r.prependTo(n).css({"float":"left"}),s.insertBefore(n.find(".tpclear")).css({"float":"left"}));var d=0;"on"==a.forceFullWidth&&(d=0-a.container.parent().offset().left);var l=0,h=0;if("on"==a.navigationInGrid&&(l=e.width()>a.startwidth?(e.width()-a.startwidth)/2:0,h=e.height()>a.startheight?(e.height()-a.startheight)/2:0),"none"!=a.navigationArrows&&"nexttobullets"!=a.navigationArrows){var c=a.soloArrowLeftValign,p=a.soloArrowLeftHalign,u=a.soloArrowRightValign,f=a.soloArrowRightHalign,g=a.soloArrowLeftVOffset,m=a.soloArrowLeftHOffset,v=a.soloArrowRightVOffset,w=a.soloArrowRightHOffset;r.css({position:"absolute"}),s.css({position:"absolute"}),"center"==c?r.css({top:"50%",marginTop:g-Math.round(r.innerHeight()/2)+"px"}):"bottom"==c?r.css({top:"auto",bottom:0+g+"px"}):"top"==c&&r.css({bottom:"auto",top:0+g+"px"}),"center"==p?r.css({left:"50%",marginLeft:d+m-Math.round(r.innerWidth()/2)+"px"}):"left"==p?r.css({left:l+m+d+"px"}):"right"==p&&r.css({right:l+m-d+"px"}),"center"==u?s.css({top:"50%",marginTop:v-Math.round(s.innerHeight()/2)+"px"}):"bottom"==u?s.css({top:"auto",bottom:0+v+"px"}):"top"==u&&s.css({bottom:"auto",top:0+v+"px"}),"center"==f?s.css({left:"50%",marginLeft:d+w-Math.round(s.innerWidth()/2)+"px"}):"left"==f?s.css({left:l+w+d+"px"}):"right"==f&&s.css({right:l+w-d+"px"}),null!=r.position()&&r.css({top:Math.round(parseInt(r.position().top,0))+"px"}),null!=s.position()&&s.css({top:Math.round(parseInt(s.position().top,0))+"px"})}"none"==a.navigationArrows&&(r.css({visibility:"hidden"}),s.css({visibility:"hidden"}));var b=a.navigationVAlign,y=a.navigationHAlign,x=a.navigationVOffset*a.bh,T=a.navigationHOffset*a.bw;"center"==b&&n.css({top:"50%",marginTop:x-Math.round(n.innerHeight()/2)+"px"}),"bottom"==b&&n.css({bottom:0+x+"px"}),"top"==b&&n.css({top:0+x+"px"}),"center"==y&&n.css({left:"50%",marginLeft:d+T-Math.round(n.innerWidth()/2)+"px"}),"left"==y&&n.css({left:0+T+d+"px"}),"right"==y&&n.css({right:0+T-d+"px"})},g=function(a){var i=a.container;a.beforli=a.next-1,a.comingli=a.next+1,a.beforli<0&&(a.beforli=a.slideamount-1),a.comingli>=a.slideamount&&(a.comingli=0);var n=i.find(">ul:first-child >li:eq("+a.comingli+")"),o=i.find(">ul:first-child >li:eq("+a.beforli+")"),r=o.find(".defaultimg").attr("src"),s=n.find(".defaultimg").attr("src");a.arr==e&&(a.arr=i.parent().find(".tparrows"),a.rar=i.parent().find(".tp-rightarrow"),a.lar=i.parent().find(".tp-leftarrow"),a.raimg=a.rar.find(".tp-arr-imgholder"),a.laimg=a.lar.find(".tp-arr-imgholder"),a.raimg_b=a.rar.find(".tp-arr-imgholder2"),a.laimg_b=a.lar.find(".tp-arr-imgholder2"),a.ratit=a.rar.find(".tp-arr-titleholder"),a.latit=a.lar.find(".tp-arr-titleholder"));var d=a.arr,l=a.rar,h=a.lar,c=a.raimg,p=a.laimg,u=a.raimg_b,f=a.laimg_b,g=a.ratit,m=a.latit;if(n.data("title")!=e&&g.html(n.data("title")),o.data("title")!=e&&m.html(o.data("title")),l.hasClass("itishovered")&&l.width(g.outerWidth(!0)+parseInt(l.css("minWidth"),0)),h.hasClass("itishovered")&&h.width(m.outerWidth(!0)+parseInt(h.css("minWidth"),0)),d.hasClass("preview2")&&!d.hasClass("hashoveralready"))if(d.addClass("hashoveralready"),Z()){var d=t(this),v=d.find(".tp-arr-titleholder");v.addClass("alwayshidden"),punchgs.TweenLite.set(v,{autoAlpha:0})}else d.hover(function(){var e=t(this),a=e.find(".tp-arr-titleholder");t(window).width()>767&&e.width(a.outerWidth(!0)+parseInt(e.css("minWidth"),0)),e.addClass("itishovered")},function(){{var e=t(this);e.find(".tp-arr-titleholder")}e.css({width:parseInt(e.css("minWidth"),0)}),e.removeClass("itishovered")});o.data("thumb")!=e&&(r=o.data("thumb")),n.data("thumb")!=e&&(s=n.data("thumb")),d.hasClass("preview4")?(u.css({backgroundImage:"url("+s+")"}),f.css({backgroundImage:"url("+r+")"}),punchgs.TweenLite.fromTo(u,.8,{force3D:punchgs.force3d,x:0},{x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){c.css({backgroundImage:"url("+s+")"}),punchgs.TweenLite.set(u,{x:0})}}),punchgs.TweenLite.fromTo(f,.8,{force3D:punchgs.force3d,x:0},{x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){p.css({backgroundImage:"url("+r+")"}),punchgs.TweenLite.set(f,{x:0})}}),punchgs.TweenLite.fromTo(c,.8,{x:0},{force3D:punchgs.force3d,x:-c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(c,{x:0})}}),punchgs.TweenLite.fromTo(p,.8,{x:0},{force3D:punchgs.force3d,x:c.width(),ease:punchgs.Power3.easeOut,delay:1,onComplete:function(){punchgs.TweenLite.set(p,{x:0})}})):(punchgs.TweenLite.to(c,.5,{autoAlpha:0,onComplete:function(){c.css({backgroundImage:"url("+s+")"}),p.css({backgroundImage:"url("+r+")"})}}),punchgs.TweenLite.to(p,.5,{autoAlpha:0,onComplete:function(){punchgs.TweenLite.to(c,.5,{autoAlpha:1,delay:.2}),punchgs.TweenLite.to(p,.5,{autoAlpha:1,delay:.2})}})),l.hasClass("preview4")&&!l.hasClass("hashoveralready")&&(l.addClass("hashoveralready"),l.hover(function(){var e=t(this).find(".tp-arr-iwrapper"),a=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(a,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=t(this).find(".tp-arr-iwrapper"),a=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(a,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}),h.hover(function(){var e=t(this).find(".tp-arr-iwrapper"),a=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.fromTo(e,.4,{x:0-e.width()},{x:0,delay:.3,ease:punchgs.Power3.easeOut,overwrite:"all"}),punchgs.TweenLite.to(a,.2,{autoAlpha:1,overwrite:"all"})},function(){var e=t(this).find(".tp-arr-iwrapper"),a=t(this).find(".tp-arr-allwrapper");punchgs.TweenLite.to(e,.4,{x:0-e.width(),ease:punchgs.Power3.easeOut,delay:.2,overwrite:"all"}),punchgs.TweenLite.to(a,.2,{delay:.6,autoAlpha:0,overwrite:"all"})}))},m=function(a,i){if(i.container.closest(".forcefullwidth_wrapper_tp_banner").find(".tp-fullwidth-forcer").css({height:i.container.height()}),i.container.closest(".rev_slider_wrapper").css({height:i.container.height()}),i.width=parseInt(i.container.width(),0),i.height=parseInt(i.container.height(),0),i.bw=i.width/i.startwidth,i.bh=i.height/i.startheight,i.bh>i.bw&&(i.bh=i.bw),i.bh<i.bw&&(i.bw=i.bh),i.bw<i.bh&&(i.bh=i.bw),i.bh>1&&(i.bw=1,i.bh=1),i.bw>1&&(i.bw=1,i.bh=1),i.height=Math.round(i.startheight*(i.width/i.startwidth)),i.height>i.startheight&&"on"!=i.autoHeight&&(i.height=i.startheight),"on"==i.fullScreen){i.height=i.bw*i.startheight;var n=(i.container.parent().width(),t(window).height());if(i.fullScreenOffsetContainer!=e){try{var o=i.fullScreenOffsetContainer.split(",");t.each(o,function(e,a){n-=t(a).outerHeight(!0),n<i.minFullScreenHeight&&(n=i.minFullScreenHeight)})}catch(r){}try{i.fullScreenOffset.split("%").length>1&&i.fullScreenOffset!=e&&i.fullScreenOffset.length>0?n-=t(window).height()*parseInt(i.fullScreenOffset,0)/100:i.fullScreenOffset!=e&&i.fullScreenOffset.length>0&&(n-=parseInt(i.fullScreenOffset,0)),n<i.minFullScreenHeight&&(n=i.minFullScreenHeight)}catch(r){}}i.container.parent().height(n),i.container.closest(".rev_slider_wrapper").height(n),i.container.css({height:"100%"}),i.height=n,i.minHeight!=e&&i.height<i.minHeight&&(i.height=i.minHeight)}else i.minHeight!=e&&i.height<i.minHeight&&(i.height=i.minHeight),i.container.height(i.height);i.slotw=Math.ceil(i.width/i.slots),i.sloth=Math.ceil("on"==i.fullScreen?t(window).height()/i.slots:i.height/i.slots),"on"==i.autoHeight&&(i.sloth=Math.ceil(a.height()/i.slots))},v=function(a,i){a.find(".tp-caption").each(function(){t(this).addClass(t(this).data("transition")),t(this).addClass("start")}),a.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:a.parent().css("maxHeight")}).addClass("tp-revslider-mainul"),"on"==i.autoHeight&&(a.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:"none"}),a.css({maxHeight:"none"}),a.parent().css({maxHeight:"none"})),a.find(">ul:first >li").each(function(){var i=t(this);if(i.addClass("tp-revslider-slidesli"),i.css({width:"100%",height:"100%",overflow:"hidden"}),i.data("link")!=e){var n=i.data("link"),o="_self",r=60;"back"==i.data("slideindex")&&(r=0);var s=checksl=i.data("linktoslide");s!=e&&"next"!=s&&"prev"!=s&&a.find(">ul:first-child >li").each(function(){var e=t(this);e.data("origindex")+1==checksl&&(s=e.index()+1)}),i.data("target")!=e&&(o=i.data("target")),"slide"!=n&&(s="no");var d='<div class="tp-caption sft slidelink" style="width:100%;height:100%;z-index:'+r+';" data-x="center" data-y="center" data-linktoslide="'+s+'" data-start="0"><a style="width:100%;height:100%;display:block"';"slide"!=n&&(d=d+' target="'+o+'" href="'+n+'"'),d+='><span style="width:100%;height:100%;display:block"></span></a></div>',i.append(d)}}),a.parent().css({overflow:"visible"}),a.find(">ul:first >li >img").each(function(a){var n=t(this);n.addClass("defaultimg"),n.data("lazyload")!=e&&1!=n.data("lazydone")||m(n,i),s(8)&&n.data("kenburns","off"),"on"==i.panZoomDisableOnMobile&&Z()&&(n.data("kenburns","off"),n.data("bgfit","cover")),n.wrap('<div class="slotholder" style="width:100%;height:100%;"data-duration="'+n.data("duration")+'"data-zoomstart="'+n.data("zoomstart")+'"data-zoomend="'+n.data("zoomend")+'"data-rotationstart="'+n.data("rotationstart")+'"data-rotationend="'+n.data("rotationend")+'"data-ease="'+n.data("ease")+'"data-duration="'+n.data("duration")+'"data-bgpositionend="'+n.data("bgpositionend")+'"data-bgposition="'+n.data("bgposition")+'"data-duration="'+n.data("duration")+'"data-kenburns="'+n.data("kenburns")+'"data-easeme="'+n.data("ease")+'"data-bgfit="'+n.data("bgfit")+'"data-bgfitend="'+n.data("bgfitend")+'"data-owidth="'+n.data("owidth")+'"data-oheight="'+n.data("oheight")+'"></div>'),"none"!=i.dottedOverlay&&i.dottedOverlay!=e&&n.closest(".slotholder").append('<div class="tp-dottedoverlay '+i.dottedOverlay+'"></div>');
var o=n.attr("src"),r=(n.data("lazyload"),n.data("bgfit")),d=n.data("bgrepeat"),l=n.data("bgposition");r==e&&(r="cover"),d==e&&(d="no-repeat"),l==e&&(l="center center");var h=n.closest(".slotholder");n.replaceWith('<div class="tp-bgimg defaultimg" data-lazyload="'+n.data("lazyload")+'" data-bgfit="'+r+'"data-bgposition="'+l+'" data-bgrepeat="'+d+'" data-lazydone="'+n.data("lazydone")+'" src="'+o+'" data-src="'+o+'" style="background-color:'+n.css("backgroundColor")+";background-repeat:"+d+";background-image:url("+o+");background-size:"+r+";background-position:"+l+';width:100%;height:100%;"></div>'),s(8)&&(h.find(".tp-bgimg").css({backgroundImage:"none","background-image":"none"}),h.find(".tp-bgimg").append('<img class="ieeightfallbackimage defaultimg" src="'+o+'" style="width:100%">')),n.css({opacity:0}),n.data("li-id",a)})},w=function(t,a,i,n){var o=t,r=o.find(".defaultimg"),d=o.data("zoomstart"),l=o.data("rotationstart");r.data("currotate")!=e&&(l=r.data("currotate")),r.data("curscale")!=e&&"box"==n?d=100*r.data("curscale"):r.data("curscale")!=e&&(d=r.data("curscale")),m(r,a);var h=r.data("src"),c=r.css("backgroundColor"),p=a.width,u=a.height,f=r.data("fxof"),g=0;"on"==a.autoHeight&&(u=a.container.height()),f==e&&(f=0);var v=0,w=r.data("bgfit"),y=r.data("bgrepeat"),x=r.data("bgposition");if(w==e&&(w="cover"),y==e&&(y="no-repeat"),x==e&&(x="center center"),s(8)){o.data("kenburns","off");var T=h;h=""}switch(n){case"box":var k=0,L=0,C=0;if(k=a.sloth>a.slotw?a.sloth:a.slotw,!i)var v=0-k;a.slotw=k,a.sloth=k;var L=0,C=0;"on"==o.data("kenburns")&&(w=d,w.toString().length<4&&(w=U(w,o,a)));for(var z=0;z<a.slots;z++){C=0;for(var O=0;O<a.slots;O++)o.append('<div class="slot" style="position:absolute;top:'+(g+C)+"px;left:"+(f+L)+"px;width:"+k+"px;height:"+k+'px;overflow:hidden;"><div class="slotslide" data-x="'+L+'" data-y="'+C+'" style="position:absolute;top:0px;left:0px;width:'+k+"px;height:"+k+'px;overflow:hidden;"><div style="position:absolute;top:'+(0-C)+"px;left:"+(0-L)+"px;width:"+p+"px;height:"+u+"px;background-color:"+c+";background-image:url("+h+");background-repeat:"+y+";background-size:"+w+";background-position:"+x+';"></div></div></div>'),C+=k,s(8)&&(o.find(".slot ").last().find(".slotslide").append('<img src="'+T+'">'),b(o,a)),d!=e&&l!=e&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:l});L+=k}break;case"vertical":case"horizontal":if("on"==o.data("kenburns")&&(w=d,w.toString().length<4&&(w=U(w,o,a))),"horizontal"==n){if(!i)var v=0-a.slotw;for(var O=0;O<a.slots;O++)o.append('<div class="slot" style="position:absolute;top:'+(0+g)+"px;left:"+(f+O*a.slotw)+"px;overflow:hidden;width:"+(a.slotw+.6)+"px;height:"+u+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+v+"px;width:"+(a.slotw+.6)+"px;height:"+u+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:0px;left:"+(0-O*a.slotw)+"px;width:"+p+"px;height:"+u+"px;background-image:url("+h+");background-repeat:"+y+";background-size:"+w+";background-position:"+x+';"></div></div></div>'),d!=e&&l!=e&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:l}),s(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+T+'" style="width:100%;height:auto">'),b(o,a))}else{if(!i)var v=0-a.sloth;for(var O=0;O<a.slots+2;O++)o.append('<div class="slot" style="position:absolute;top:'+(g+O*a.sloth)+"px;left:"+f+"px;overflow:hidden;width:"+p+"px;height:"+a.sloth+'px"><div class="slotslide" style="position:absolute;top:'+v+"px;left:0px;width:"+p+"px;height:"+a.sloth+'px;overflow:hidden;"><div style="background-color:'+c+";position:absolute;top:"+(0-O*a.sloth)+"px;left:0px;width:"+p+"px;height:"+u+"px;background-image:url("+h+");background-repeat:"+y+";background-size:"+w+";background-position:"+x+';"></div></div></div>'),d!=e&&l!=e&&punchgs.TweenLite.set(o.find(".slot").last(),{rotationZ:l}),s(8)&&(o.find(".slot ").last().find(".slotslide").append('<img class="ieeightfallbackimage" src="'+T+'" style="width:100%;height:auto;">'),b(o,a))}}},b=function(t,e){if(s(8)){{var a=t.find(".ieeightfallbackimage");a.width(),a.height()}a.css(e.startwidth/e.startheight<t.data("owidth")/t.data("oheight")?{width:"auto",height:"100%"}:{width:"100%",height:"auto"}),setTimeout(function(){var i=a.width(),n=a.height(),o=t.data("bgposition");"center center"==o&&a.css({position:"absolute",top:e.height/2-n/2+"px",left:e.width/2-i/2+"px"}),("center top"==o||"top center"==o)&&a.css({position:"absolute",top:"0px",left:e.width/2-i/2+"px"}),("center bottom"==o||"bottom center"==o)&&a.css({position:"absolute",bottom:"0px",left:e.width/2-i/2+"px"}),("right top"==o||"top right"==o)&&a.css({position:"absolute",top:"0px",right:"0px"}),("right bottom"==o||"bottom right"==o)&&a.css({position:"absolute",bottom:"0px",right:"0px"}),("right center"==o||"center right"==o)&&a.css({position:"absolute",top:e.height/2-n/2+"px",right:"0px"}),("left bottom"==o||"bottom left"==o)&&a.css({position:"absolute",bottom:"0px",left:"0px"}),("left center"==o||"center left"==o)&&a.css({position:"absolute",top:e.height/2-n/2+"px",left:"0px"})},20)}},y=function(e,a,i){i.find(".slot").each(function(){t(this).remove()}),a.transition=0},x=function(a,i){a.find("img, .defaultimg").each(function(){var a=t(this),n=a.data("lazyload");if(n!=a.attr("src")&&3>i&&n!=e&&"undefined"!=n){if(n!=e&&"undefined"!=n){a.attr("src",n);var o=new Image;o.onload=function(){a.data("lazydone",1),a.hasClass("defaultimg")&&T(a,o)},o.error=function(){a.data("lazydone",1)},o.src=a.attr("src"),o.complete&&(a.hasClass("defaultimg")&&T(a,o),a.data("lazydone",1))}}else if((n===e||"undefined"===n)&&1!=a.data("lazydone")){var o=new Image;o.onload=function(){a.hasClass("defaultimg")&&T(a,o),a.data("lazydone",1)},o.error=function(){a.data("lazydone",1)},o.src=a.attr("src")!=e&&"undefined"!=a.attr("src")?a.attr("src"):a.data("src"),o.complete&&(a.hasClass("defaultimg")&&T(a,o),a.data("lazydone",1))}})},T=function(t,e){var a=t.closest("li"),i=e.width,n=e.height;a.data("owidth",i),a.data("oheight",n),a.find(".slotholder").data("owidth",i),a.find(".slotholder").data("oheight",n),a.data("loadeddone",1)},k=function(a,i,n){x(a,0);var o=setInterval(function(){n.bannertimeronpause=!0,n.container.trigger("stoptimer"),n.cd=0;var r=0;a.find("img, .defaultimg").each(function(){1!=t(this).data("lazydone")&&r++}),r>0?x(a,r):(clearInterval(o),i!=e&&i())},100)},L=function(t,a){try{{t.find(">ul:first-child >li:eq("+a.act+")")}}catch(i){{t.find(">ul:first-child >li:eq(1)")}}a.lastslide=a.act;var n=t.find(">ul:first-child >li:eq("+a.next+")"),o=n.find(".defaultimg");a.bannertimeronpause=!0,t.trigger("stoptimer"),a.cd=0,o.data("lazyload")!=e&&"undefined"!=o.data("lazyload")&&1!=o.data("lazydone")?(s(8)?o.attr("src",n.find(".defaultimg").data("lazyload")):o.css({backgroundImage:'url("'+n.find(".defaultimg").data("lazyload")+'")'}),o.data("src",n.find(".defaultimg").data("lazyload")),o.data("lazydone",0),o.data("orgw",0),n.data("loadeddone",1),t.find(".tp-loader").css({display:"block"}),k(t.find(".tp-static-layers"),function(){k(n,function(){var e=n.find(".slotholder");if("on"==e.data("kenburns"))var i=setInterval(function(){var n=e.data("owidth");n>=0&&(clearInterval(i),C(a,o,t))},10);else C(a,o,t)},a)},a)):n.data("loadeddone")===e?(n.data("loadeddone",1),k(n,function(){C(a,o,t)},a)):C(a,o,t)},C=function(t,e,a){t.bannertimeronpause=!1,t.cd=0,a.trigger("nulltimer"),a.find(".tp-loader").css({display:"none"}),m(e,t),f(a,t),m(e,t),z(a,t)},z=function(t,a){t.trigger("revolution.slide.onbeforeswap"),a.transition=1,a.videoplaying=!1;try{var i=t.find(">ul:first-child >li:eq("+a.act+")")}catch(n){var i=t.find(">ul:first-child >li:eq(1)")}a.lastslide=a.act;var o=t.find(">ul:first-child >li:eq("+a.next+")");setTimeout(function(){g(a)},200);var r=i.find(".slotholder"),s=o.find(".slotholder");("on"==s.data("kenburns")||"on"==r.data("kenburns"))&&(J(t,a),t.find(".kenburnimg").remove()),o.data("delay")!=e?(a.cd=0,a.delay=o.data("delay")):a.delay=a.origcd,1==a.firststart&&punchgs.TweenLite.set(i,{autoAlpha:0}),punchgs.TweenLite.set(i,{zIndex:18}),punchgs.TweenLite.set(o,{autoAlpha:0,zIndex:20});var d=0;i.index()!=o.index()&&1!=a.firststart&&(d=B(i,a)),"on"!=i.data("saveperformance")&&(d=0),setTimeout(function(){t.trigger("restarttimer"),O(t,a,o,i,r,s)},d)},O=function(a,i,n,o,r,d){function l(){t.each(g,function(t,e){(e[0]==u||e[8]==u)&&(h=e[1],f=e[2],b=y),y+=1})}"prepared"==n.data("differentissplayed")&&(n.data("differentissplayed","done"),n.data("transition",n.data("savedtransition")),n.data("slotamount",n.data("savedslotamount")),n.data("masterspeed",n.data("savedmasterspeed"))),n.data("fstransition")!=e&&"done"!=n.data("differentissplayed")&&(n.data("savedtransition",n.data("transition")),n.data("savedslotamount",n.data("slotamount")),n.data("savedmasterspeed",n.data("masterspeed")),n.data("transition",n.data("fstransition")),n.data("slotamount",n.data("fsslotamount")),n.data("masterspeed",n.data("fsmasterspeed")),n.data("differentissplayed","prepared")),a.find(".active-revslide").removeClass(".active-revslide"),n.addClass("active-revslide"),n.data("transition")==e&&n.data("transition","random");var h=0,c=n.data("transition").split(","),p=n.data("nexttransid")==e?-1:n.data("nexttransid");"on"==n.data("randomtransition")?p=Math.round(Math.random()*c.length):p+=1,p==c.length&&(p=0),n.data("nexttransid",p);var u=c[p];i.ie&&("boxfade"==u&&(u="boxslide"),"slotfade-vertical"==u&&(u="slotzoom-vertical"),"slotfade-horizontal"==u&&(u="slotzoom-horizontal")),s(8)&&(u=11);var f=0;"scroll"==i.parallax&&i.parallaxFirstGo==e&&(i.parallaxFirstGo=!0,K(a,i),setTimeout(function(){K(a,i)},210),setTimeout(function(){K(a,i)},420)),"slidehorizontal"==u&&(u="slideleft",1==i.leftarrowpressed&&(u="slideright")),"slidevertical"==u&&(u="slideup",1==i.leftarrowpressed&&(u="slidedown")),"parallaxhorizontal"==u&&(u="parallaxtoleft",1==i.leftarrowpressed&&(u="parallaxtoright")),"parallaxvertical"==u&&(u="parallaxtotop",1==i.leftarrowpressed&&(u="parallaxtobottom"));var g=[["boxslide",0,1,10,0,"box",!1,null,0],["boxfade",1,0,10,0,"box",!1,null,1],["slotslide-horizontal",2,0,0,200,"horizontal",!0,!1,2],["slotslide-vertical",3,0,0,200,"vertical",!0,!1,3],["curtain-1",4,3,0,0,"horizontal",!0,!0,4],["curtain-2",5,3,0,0,"horizontal",!0,!0,5],["curtain-3",6,3,25,0,"horizontal",!0,!0,6],["slotzoom-horizontal",7,0,0,400,"horizontal",!0,!0,7],["slotzoom-vertical",8,0,0,0,"vertical",!0,!0,8],["slotfade-horizontal",9,0,0,500,"horizontal",!0,null,9],["slotfade-vertical",10,0,0,500,"vertical",!0,null,10],["fade",11,0,1,300,"horizontal",!0,null,11],["slideleft",12,0,1,0,"horizontal",!0,!0,12],["slideup",13,0,1,0,"horizontal",!0,!0,13],["slidedown",14,0,1,0,"horizontal",!0,!0,14],["slideright",15,0,1,0,"horizontal",!0,!0,15],["papercut",16,0,0,600,"",null,null,16],["3dcurtain-horizontal",17,0,20,100,"vertical",!1,!0,17],["3dcurtain-vertical",18,0,10,100,"horizontal",!1,!0,18],["cubic",19,0,20,600,"horizontal",!1,!0,19],["cube",19,0,20,600,"horizontal",!1,!0,20],["flyin",20,0,4,600,"vertical",!1,!0,21],["turnoff",21,0,1,1600,"horizontal",!1,!0,22],["incube",22,0,20,200,"horizontal",!1,!0,23],["cubic-horizontal",23,0,20,500,"vertical",!1,!0,24],["cube-horizontal",23,0,20,500,"vertical",!1,!0,25],["incube-horizontal",24,0,20,500,"vertical",!1,!0,26],["turnoff-vertical",25,0,1,200,"horizontal",!1,!0,27],["fadefromright",12,1,1,0,"horizontal",!0,!0,28],["fadefromleft",15,1,1,0,"horizontal",!0,!0,29],["fadefromtop",14,1,1,0,"horizontal",!0,!0,30],["fadefrombottom",13,1,1,0,"horizontal",!0,!0,31],["fadetoleftfadefromright",12,2,1,0,"horizontal",!0,!0,32],["fadetorightfadetoleft",15,2,1,0,"horizontal",!0,!0,33],["fadetobottomfadefromtop",14,2,1,0,"horizontal",!0,!0,34],["fadetotopfadefrombottom",13,2,1,0,"horizontal",!0,!0,35],["parallaxtoright",12,3,1,0,"horizontal",!0,!0,36],["parallaxtoleft",15,3,1,0,"horizontal",!0,!0,37],["parallaxtotop",14,3,1,0,"horizontal",!0,!0,38],["parallaxtobottom",13,3,1,0,"horizontal",!0,!0,39],["scaledownfromright",12,4,1,0,"horizontal",!0,!0,40],["scaledownfromleft",15,4,1,0,"horizontal",!0,!0,41],["scaledownfromtop",14,4,1,0,"horizontal",!0,!0,42],["scaledownfrombottom",13,4,1,0,"horizontal",!0,!0,43],["zoomout",13,5,1,0,"horizontal",!0,!0,44],["zoomin",13,6,1,0,"horizontal",!0,!0,45],["notransition",26,0,1,0,"horizontal",!0,null,46]],m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],v=[16,17,18,19,20,21,22,23,24,25,26,27],h=0,f=1,b=0,y=0,x=new Array;"on"==d.data("kenburns")&&(("boxslide"==u||0==u||"boxfade"==u||1==u||"papercut"==u||16==u)&&(u=11),N(a,i,!0,!0)),"random"==u&&(u=Math.round(Math.random()*g.length-1),u>g.length-1&&(u=g.length-1)),"random-static"==u&&(u=Math.round(Math.random()*m.length-1),u>m.length-1&&(u=m.length-1),u=m[u]),"random-premium"==u&&(u=Math.round(Math.random()*v.length-1),u>v.length-1&&(u=v.length-1),u=v[u]);var T=[12,13,14,15,16,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45];if(1==i.isJoomla&&window.MooTools!=e&&-1!=T.indexOf(u)){var k=Math.round(Math.random()*(v.length-2))+1;k>v.length-1&&(k=v.length-1),0==k&&(k=1),u=v[k]}l(),s(8)&&h>15&&28>h&&(u=Math.round(Math.random()*m.length-1),u>m.length-1&&(u=m.length-1),u=m[u],y=0,l());var L=-1;(1==i.leftarrowpressed||i.act>i.next)&&(L=1),i.leftarrowpressed=0,h>26&&(h=26),0>h&&(h=0);var C=300;n.data("masterspeed")!=e&&n.data("masterspeed")>99&&n.data("masterspeed")<i.delay&&(C=n.data("masterspeed")),n.data("masterspeed")!=e&&n.data("masterspeed")>i.delay&&(C=i.delay),x=g[b],a.parent().find(".bullet").each(function(){var e=t(this),a=e.index();e.removeClass("selected"),("withbullet"==i.navigationArrows||"nexttobullets"==i.navigationArrows)&&(a=e.index()-1),a==i.next&&e.addClass("selected")});var z=new punchgs.TimelineLite({onComplete:function(){I(a,i,d,r,n,o,z)}});if(z.add(punchgs.TweenLite.set(d.find(".defaultimg"),{opacity:0})),z.pause(),n.data("slotamount")==e||n.data("slotamount")<1?(i.slots=Math.round(12*Math.random()+4),"boxslide"==u?i.slots=Math.round(6*Math.random()+3):"flyin"==u&&(i.slots=Math.round(4*Math.random()+1))):i.slots=n.data("slotamount"),i.rotate=n.data("rotate")==e?0:999==n.data("rotate")?Math.round(360*Math.random()):n.data("rotate"),(!t.support.transition||i.ie||i.ie9)&&(i.rotate=0),1==i.firststart&&(i.firststart=0),C+=x[4],(4==h||5==h||6==h)&&i.slots<3&&(i.slots=3),0!=x[3]&&(i.slots=Math.min(i.slots,x[3])),9==h&&(i.slots=i.width/20),10==h&&(i.slots=i.height/20),null!=x[7]&&w(r,i,x[7],x[5]),null!=x[6]&&w(d,i,x[6],x[5]),0==h){var O=Math.ceil(i.height/i.sloth),A=0;d.find(".slotslide").each(function(e){var a=t(this);A+=1,A==O&&(A=0),z.add(punchgs.TweenLite.from(a,C/600,{opacity:0,top:0-i.sloth,left:0-i.slotw,rotation:i.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),(15*e+30*A)/1500)})}if(1==h){var M,S=0;d.find(".slotslide").each(function(e){var a=t(this),n=Math.random()*C+300,o=500*Math.random()+200;n+o>M&&(M=o+o,S=e),z.add(punchgs.TweenLite.from(a,n/1e3,{autoAlpha:0,force3D:"auto",rotation:i.rotate,ease:punchgs.Power2.easeInOut}),o/1e3)})}if(2==h){var P=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this);P.add(punchgs.TweenLite.to(e,C/1e3,{left:i.slotw,force3D:"auto",rotation:0-i.rotate}),0),z.add(P,0)}),d.find(".slotslide").each(function(){var e=t(this);P.add(punchgs.TweenLite.from(e,C/1e3,{left:0-i.slotw,force3D:"auto",rotation:i.rotate}),0),z.add(P,0)})}if(3==h){var P=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this);P.add(punchgs.TweenLite.to(e,C/1e3,{top:i.sloth,rotation:i.rotate,force3D:"auto",transformPerspective:600}),0),z.add(P,0)}),d.find(".slotslide").each(function(){var e=t(this);P.add(punchgs.TweenLite.from(e,C/1e3,{top:0-i.sloth,rotation:i.rotate,ease:punchgs.Power2.easeOut,force3D:"auto",transformPerspective:600}),0),z.add(P,0)})}if(4==h||5==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var D=C/1e3,P=new punchgs.TimelineLite;r.find(".slotslide").each(function(e){var a=t(this),n=e*D/i.slots;5==h&&(n=(i.slots-e-1)*D/i.slots/1.5),P.add(punchgs.TweenLite.to(a,3*D,{transformPerspective:600,force3D:"auto",top:0+i.height,opacity:.5,rotation:i.rotate,ease:punchgs.Power2.easeInOut,delay:n}),0),z.add(P,0)}),d.find(".slotslide").each(function(e){var a=t(this),n=e*D/i.slots;5==h&&(n=(i.slots-e-1)*D/i.slots/1.5),P.add(punchgs.TweenLite.from(a,3*D,{top:0-i.height,opacity:.5,rotation:i.rotate,force3D:"auto",ease:punchgs.Power2.easeInOut,delay:n}),0),z.add(P,0)})}if(6==h){i.slots<2&&(i.slots=2),i.slots%2&&(i.slots=i.slots+1);var P=new punchgs.TimelineLite;setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100),r.find(".slotslide").each(function(e){var a=t(this);if(e+1<i.slots/2)var n=90*(e+2);else var n=90*(2+i.slots-e);P.add(punchgs.TweenLite.to(a,(C+n)/1e3,{top:0+i.height,opacity:1,force3D:"auto",rotation:i.rotate,ease:punchgs.Power2.easeInOut}),0),z.add(P,0)}),d.find(".slotslide").each(function(e){var a=t(this);if(e+1<i.slots/2)var n=90*(e+2);else var n=90*(2+i.slots-e);P.add(punchgs.TweenLite.from(a,(C+n)/1e3,{top:0-i.height,opacity:1,force3D:"auto",rotation:i.rotate,ease:punchgs.Power2.easeInOut}),0),z.add(P,0)})}if(7==h){C=2*C,C>i.delay&&(C=i.delay);var P=new punchgs.TimelineLite;setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100),r.find(".slotslide").each(function(){var e=t(this).find("div");P.add(punchgs.TweenLite.to(e,C/1e3,{left:0-i.slotw/2+"px",top:0-i.height/2+"px",width:2*i.slotw+"px",height:2*i.height+"px",opacity:0,rotation:i.rotate,force3D:"auto",ease:punchgs.Power2.easeOut}),0),z.add(P,0)}),d.find(".slotslide").each(function(e){var a=t(this).find("div");P.add(punchgs.TweenLite.fromTo(a,C/1e3,{left:0,top:0,opacity:0,transformPerspective:600},{left:0-e*i.slotw+"px",ease:punchgs.Power2.easeOut,force3D:"auto",top:"0px",width:i.width,height:i.height,opacity:1,rotation:0,delay:.1}),0),z.add(P,0)})}if(8==h){C=3*C,C>i.delay&&(C=i.delay);var P=new punchgs.TimelineLite;r.find(".slotslide").each(function(){var e=t(this).find("div");P.add(punchgs.TweenLite.to(e,C/1e3,{left:0-i.width/2+"px",top:0-i.sloth/2+"px",width:2*i.width+"px",height:2*i.sloth+"px",force3D:"auto",opacity:0,rotation:i.rotate}),0),z.add(P,0)}),d.find(".slotslide").each(function(e){var a=t(this).find("div");P.add(punchgs.TweenLite.fromTo(a,C/1e3,{left:0,top:0,opacity:0,force3D:"auto"},{left:"0px",top:0-e*i.sloth+"px",width:d.find(".defaultimg").data("neww")+"px",height:d.find(".defaultimg").data("newh")+"px",opacity:1,rotation:0}),0),z.add(P,0)})}if(9==h||10==h){var H=0;d.find(".slotslide").each(function(e){var a=t(this);H++,z.add(punchgs.TweenLite.fromTo(a,C/1e3,{autoAlpha:0,force3D:"auto",transformPerspective:600},{autoAlpha:1,ease:punchgs.Power2.easeInOut,delay:5*e/1e3}),0)})}if(11==h||26==h){var H=0;26==h&&(C=0),d.find(".slotslide").each(function(){var e=t(this);z.add(punchgs.TweenLite.from(e,C/1e3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power2.easeInOut}),0)})}if(12==h||13==h||14==h||15==h){C=C,C>i.delay&&(C=i.delay),setTimeout(function(){punchgs.TweenLite.set(r.find(".defaultimg"),{autoAlpha:0})},100);var W=i.width,X=i.height,F=d.find(".slotslide"),Y=0,R=0,B=1,V=1,q=1,E=punchgs.Power2.easeInOut,j=punchgs.Power2.easeInOut,Z=C/1e3,U=Z;("on"==i.fullWidth||"on"==i.fullScreen)&&(W=F.width(),X=F.height()),12==h?Y=W:15==h?Y=0-W:13==h?R=X:14==h&&(R=0-X),1==f&&(B=0),2==f&&(B=0),3==f&&(E=punchgs.Power2.easeInOut,j=punchgs.Power1.easeInOut,Z=C/1200),(4==f||5==f)&&(V=.6),6==f&&(V=1.4),(5==f||6==f)&&(q=1.4,B=0,W=0,X=0,Y=0,R=0),6==f&&(q=.6);z.add(punchgs.TweenLite.from(F,Z,{left:Y,top:R,scale:q,opacity:B,rotation:i.rotate,ease:j,force3D:"auto"}),0);var G=r.find(".slotslide");if((4==f||5==f)&&(W=0,X=0),1!=f)switch(h){case 12:z.add(punchgs.TweenLite.to(G,U,{left:0-W+"px",force3D:"auto",scale:V,opacity:B,rotation:i.rotate,ease:E}),0);break;case 15:z.add(punchgs.TweenLite.to(G,U,{left:W+"px",force3D:"auto",scale:V,opacity:B,rotation:i.rotate,ease:E}),0);break;case 13:z.add(punchgs.TweenLite.to(G,U,{top:0-X+"px",force3D:"auto",scale:V,opacity:B,rotation:i.rotate,ease:E}),0);break;case 14:z.add(punchgs.TweenLite.to(G,U,{top:X+"px",force3D:"auto",scale:V,opacity:B,rotation:i.rotate,ease:E}),0)}}if(16==h){var P=new punchgs.TimelineLite;z.add(punchgs.TweenLite.set(o,{position:"absolute","z-index":20}),0),z.add(punchgs.TweenLite.set(n,{position:"absolute","z-index":15}),0),o.wrapInner('<div class="tp-half-one" style="position:relative; width:100%;height:100%"></div>'),o.find(".tp-half-one").clone(!0).appendTo(o).addClass("tp-half-two"),o.find(".tp-half-two").removeClass("tp-half-one");var W=i.width,X=i.height;"on"==i.autoHeight&&(X=a.height()),o.find(".tp-half-one .defaultimg").wrap('<div class="tp-papercut" style="width:'+W+"px;height:"+X+'px;"></div>'),o.find(".tp-half-two .defaultimg").wrap('<div class="tp-papercut" style="width:'+W+"px;height:"+X+'px;"></div>'),o.find(".tp-half-two .defaultimg").css({position:"absolute",top:"-50%"}),o.find(".tp-half-two .tp-caption").wrapAll('<div style="position:absolute;top:-50%;left:0px;"></div>'),z.add(punchgs.TweenLite.set(o.find(".tp-half-two"),{width:W,height:X,overflow:"hidden",zIndex:15,position:"absolute",top:X/2,left:"0px",transformPerspective:600,transformOrigin:"center bottom"}),0),z.add(punchgs.TweenLite.set(o.find(".tp-half-one"),{width:W,height:X/2,overflow:"visible",zIndex:10,position:"absolute",top:"0px",left:"0px",transformPerspective:600,transformOrigin:"center top"}),0);var $=(o.find(".defaultimg"),Math.round(20*Math.random()-10)),J=Math.round(20*Math.random()-10),Q=Math.round(20*Math.random()-10),te=.4*Math.random()-.2,ee=.4*Math.random()-.2,ae=1*Math.random()+1,ie=1*Math.random()+1,ne=.3*Math.random()+.3;z.add(punchgs.TweenLite.set(o.find(".tp-half-one"),{overflow:"hidden"}),0),z.add(punchgs.TweenLite.fromTo(o.find(".tp-half-one"),C/800,{width:W,height:X/2,position:"absolute",top:"0px",left:"0px",force3D:"auto",transformOrigin:"center top"},{scale:ae,rotation:$,y:0-X-X/4,autoAlpha:0,ease:punchgs.Power2.easeInOut}),0),z.add(punchgs.TweenLite.fromTo(o.find(".tp-half-two"),C/800,{width:W,height:X,overflow:"hidden",position:"absolute",top:X/2,left:"0px",force3D:"auto",transformOrigin:"center bottom"},{scale:ie,rotation:J,y:X+X/4,ease:punchgs.Power2.easeInOut,autoAlpha:0,onComplete:function(){punchgs.TweenLite.set(o,{position:"absolute","z-index":15}),punchgs.TweenLite.set(n,{position:"absolute","z-index":20}),o.find(".tp-half-one").length>0&&(o.find(".tp-half-one .defaultimg").unwrap(),o.find(".tp-half-one .slotholder").unwrap()),o.find(".tp-half-two").remove()}}),0),P.add(punchgs.TweenLite.set(d.find(".defaultimg"),{autoAlpha:1}),0),null!=o.html()&&z.add(punchgs.TweenLite.fromTo(n,(C-200)/1e3,{scale:ne,x:i.width/4*te,y:X/4*ee,rotation:Q,force3D:"auto",transformOrigin:"center center",ease:punchgs.Power2.easeOut},{autoAlpha:1,scale:1,x:0,y:0,rotation:0}),0),z.add(P,0)}if(17==h&&d.find(".slotslide").each(function(e){var a=t(this);z.add(punchgs.TweenLite.fromTo(a,C/800,{opacity:0,rotationY:0,scale:.9,rotationX:-110,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{opacity:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),18==h&&d.find(".slotslide").each(function(e){var a=t(this);z.add(punchgs.TweenLite.fromTo(a,C/500,{autoAlpha:0,rotationY:310,scale:.9,rotationX:10,force3D:"auto",transformPerspective:600,transformOrigin:"center center"},{autoAlpha:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:"auto",rotationY:0,ease:punchgs.Power3.easeOut,delay:.06*e}),0)}),19==h||22==h){var P=new punchgs.TimelineLite;z.add(punchgs.TweenLite.set(o,{zIndex:20}),0),z.add(punchgs.TweenLite.set(n,{zIndex:20}),0),setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var oe=(n.css("z-index"),o.css("z-index"),90),B=1,re="center center ";1==L&&(oe=-90),19==h?(re=re+"-"+i.height/2,B=0):re+=i.height/2,punchgs.TweenLite.set(a,{transformStyle:"flat",backfaceVisibility:"hidden",transformPerspective:600}),d.find(".slotslide").each(function(e){var a=t(this);P.add(punchgs.TweenLite.fromTo(a,C/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",left:0,rotationY:i.rotate,z:10,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationX:oe},{left:0,rotationY:0,top:0,z:0,scale:1,force3D:"auto",rotationX:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),P.add(punchgs.TweenLite.to(a,.1,{autoAlpha:1,delay:50*e/1e3}),0),z.add(P)}),r.find(".slotslide").each(function(e){var a=t(this),n=-90;1==L&&(n=90),P.add(punchgs.TweenLite.fromTo(a,C/1e3,{transformStyle:"flat",backfaceVisibility:"hidden",autoAlpha:1,rotationY:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationX:0},{autoAlpha:1,rotationY:i.rotate,top:0,z:10,scale:1,rotationX:n,delay:50*e/1e3,force3D:"auto",ease:punchgs.Power2.easeInOut}),0),z.add(P)})}if(20==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);{n.css("z-index"),o.css("z-index")}if(1==L)var se=-i.width,oe=70,re="left center -"+i.height/2;else var se=i.width,oe=-70,re="right center -"+i.height/2;d.find(".slotslide").each(function(e){var a=t(this);z.add(punchgs.TweenLite.fromTo(a,C/1500,{left:se,rotationX:40,z:-600,opacity:B,top:0,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationY:oe},{left:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),z.add(punchgs.TweenLite.fromTo(a,C/1e3,{rotationX:40,z:-600,opacity:B,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationY:oe},{rotationX:0,opacity:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),z.add(punchgs.TweenLite.to(a,.1,{opacity:1,force3D:"auto",delay:50*e/1e3+C/2e3}),0)}),r.find(".slotslide").each(function(e){var a=t(this);if(1!=L)var n=-i.width,o=70,r="left center -"+i.height/2;else var n=i.width,o=-70,r="right center -"+i.height/2;z.add(punchgs.TweenLite.fromTo(a,C/1e3,{opacity:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:"auto",transformPerspective:600,transformOrigin:r,rotationY:0},{opacity:1,rotationX:40,top:0,z:-600,left:n,force3D:"auto",scale:.8,rotationY:o,delay:50*e/1e3,ease:punchgs.Power2.easeInOut}),0),z.add(punchgs.TweenLite.to(a,.1,{force3D:"auto",opacity:0,delay:50*e/1e3+(C/1e3-C/1e4)}),0)})}if(21==h||25==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var oe=(n.css("z-index"),o.css("z-index"),90),se=-i.width,de=-oe;if(1==L)if(25==h){var re="center top 0";oe=i.rotate}else{var re="left center 0";de=i.rotate}else if(se=i.width,oe=-90,25==h){var re="center bottom 0";de=-oe,oe=i.rotate}else{var re="right center 0";de=i.rotate}d.find(".slotslide").each(function(){var e=t(this);z.add(punchgs.TweenLite.fromTo(e,C/1e3,{left:0,transformStyle:"flat",rotationX:de,z:0,autoAlpha:0,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationY:oe},{left:0,rotationX:0,top:0,z:0,autoAlpha:1,scale:1,rotationY:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),0)}),1!=L?(se=-i.width,oe=90,25==h?(re="center top 0",de=-oe,oe=i.rotate):(re="left center 0",de=i.rotate)):(se=i.width,oe=-90,25==h?(re="center bottom 0",de=-oe,oe=i.rotate):(re="right center 0",de=i.rotate)),r.find(".slotslide").each(function(){var e=t(this);z.add(punchgs.TweenLite.fromTo(e,C/1e3,{left:0,transformStyle:"flat",rotationX:0,z:0,autoAlpha:1,top:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationY:0},{left:0,rotationX:de,top:0,z:0,autoAlpha:1,force3D:"auto",scale:1,rotationY:oe,ease:punchgs.Power1.easeInOut}),0)})}if(23==h||24==h){setTimeout(function(){r.find(".defaultimg").css({opacity:0})},100);var oe=(n.css("z-index"),o.css("z-index"),-90),B=1,le=0;if(1==L&&(oe=90),23==h){var re="center center -"+i.width/2;B=0}else var re="center center "+i.width/2;punchgs.TweenLite.set(a,{transformStyle:"preserve-3d",backfaceVisibility:"hidden",perspective:2500}),d.find(".slotslide").each(function(e){var a=t(this);z.add(punchgs.TweenLite.fromTo(a,C/1e3,{left:le,rotationX:i.rotate,force3D:"auto",opacity:B,top:0,scale:1,transformPerspective:600,transformOrigin:re,rotationY:oe},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)}),oe=90,1==L&&(oe=-90),r.find(".slotslide").each(function(e){var a=t(this);z.add(punchgs.TweenLite.fromTo(a,C/1e3,{left:0,autoAlpha:1,rotationX:0,top:0,z:0,scale:1,force3D:"auto",transformPerspective:600,transformOrigin:re,rotationY:0},{left:le,autoAlpha:1,rotationX:i.rotate,top:0,scale:1,rotationY:oe,delay:50*e/500,ease:punchgs.Power2.easeInOut}),0)})}z.pause(),_(n,i,null,z),punchgs.TweenLite.to(n,.001,{autoAlpha:1});var he={};he.slideIndex=i.next+1,he.slide=n,a.trigger("revolution.slide.onchange",he),setTimeout(function(){a.trigger("revolution.slide.onafterswap")},C),a.trigger("revolution.slide.onvideostop")},I=function(t,e,a,i,n,o,r){punchgs.TweenLite.to(a.find(".defaultimg"),.001,{autoAlpha:1,onComplete:function(){y(t,e,n)}}),n.index()!=o.index()&&punchgs.TweenLite.to(o,.2,{autoAlpha:0,onComplete:function(){y(t,e,o)}}),e.act=e.next,"thumb"==e.navigationType&&ee(t),"on"==a.data("kenburns")&&N(t,e),t.find(".current-sr-slide-visible").removeClass("current-sr-slide-visible"),n.addClass("current-sr-slide-visible"),("scroll"==e.parallax||"scroll+mouse"==e.parallax||"mouse+scroll"==e.parallax)&&K(t,e),r.clear()},A=function(e){var a=e.target.getVideoEmbedCode(),i=t("#"+a.split('id="')[1].split('"')[0]),n=i.closest(".tp-simpleresponsive"),o=i.parent().data("player");if(e.data==YT.PlayerState.PLAYING){var r=n.find(".tp-bannertimer"),s=r.data("opt");"mute"==i.closest(".tp-caption").data("volume")&&o.mute(),s.videoplaying=!0,n.trigger("stoptimer"),n.trigger("revolution.slide.onvideoplay")}else{var r=n.find(".tp-bannertimer"),s=r.data("opt");-1!=e.data&&3!=e.data&&(s.videoplaying=!1,n.trigger("starttimer"),n.trigger("revolution.slide.onvideostop")),0==e.data&&1==s.nextslideatend?s.container.revnext():(s.videoplaying=!1,n.trigger("starttimer"),n.trigger("revolution.slide.onvideostop"))}},M=function(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent(e,a,!1)},S=function(e,a){var i=$f(e),n=t("#"+e),o=n.closest(".tp-simpleresponsive"),r=n.closest(".tp-caption");setTimeout(function(){i.addEvent("ready",function(){a&&i.api("play"),i.addEvent("play",function(){var t=o.find(".tp-bannertimer"),e=t.data("opt");e.videoplaying=!0,o.trigger("stoptimer"),o.trigger("revolution.slide.onvideoplay"),"mute"==r.data("volume")&&i.api("setVolume","0")}),i.addEvent("finish",function(){var t=o.find(".tp-bannertimer"),e=t.data("opt");e.videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideoplay"),1==e.nextslideatend&&e.container.revnext()}),i.addEvent("pause",function(){var t=o.find(".tp-bannertimer"),e=t.data("opt");e.videoplaying=!1,o.trigger("starttimer"),o.trigger("revolution.slide.onvideostop")}),r.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(t(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),i.api("play")})})},150)},P=function(t,a){var i=a.width(),n=a.height(),o=t.data("mediaAspect");o==e&&(o=1);var r=i/n;t.css({position:"absolute"});t.find("video");o>r?punchgs.TweenLite.to(t,1e-4,{width:n*o,force3D:"auto",top:0,left:0-(n*o-i)/2,height:n}):punchgs.TweenLite.to(t,1e-4,{width:i,force3D:"auto",top:0-(i/o-n)/2,left:0,height:i/o})},D=function(){var t=new Object;return t.x=0,t.y=0,t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.scale=1,t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.opacity=0,t.transformOrigin="center, center",t.transformPerspective=400,t.rotation=0,t},H=function(e,a){var i=a.split(";");return t.each(i,function(t,a){a=a.split(":");var i=a[0],n=a[1];"rotationX"==i&&(e.rotationX=parseInt(n,0)),"rotationY"==i&&(e.rotationY=parseInt(n,0)),"rotationZ"==i&&(e.rotationZ=parseInt(n,0)),"rotationZ"==i&&(e.rotation=parseInt(n,0)),"scaleX"==i&&(e.scaleX=parseFloat(n)),"scaleY"==i&&(e.scaleY=parseFloat(n)),"opacity"==i&&(e.opacity=parseFloat(n)),"skewX"==i&&(e.skewX=parseInt(n,0)),"skewY"==i&&(e.skewY=parseInt(n,0)),"x"==i&&(e.x=parseInt(n,0)),"y"==i&&(e.y=parseInt(n,0)),"z"==i&&(e.z=parseInt(n,0)),"transformOrigin"==i&&(e.transformOrigin=n.toString()),"transformPerspective"==i&&(e.transformPerspective=parseInt(n,0))
}),e},W=function(e){var a=e.split("animation:"),i=new Object;i.animation=H(D(),a[1]);var n=a[0].split(";");return t.each(n,function(t,e){e=e.split(":");var a=e[0],n=e[1];"typ"==a&&(i.typ=n),"speed"==a&&(i.speed=parseInt(n,0)/1e3),"start"==a&&(i.start=parseInt(n,0)/1e3),"elementdelay"==a&&(i.elementdelay=parseFloat(n)),"ease"==a&&(i.ease=n)}),i},_=function(a,i,n,o){function r(){}function d(){}a.data("ctl")==e&&a.data("ctl",new punchgs.TimelineLite);var l=a.data("ctl"),h=0,c=0,p=a.find(".tp-caption"),u=i.container.find(".tp-static-layers").find(".tp-caption");l.pause(),t.each(u,function(t,e){p.push(e)}),p.each(function(a){var o=n,l=-1,p=t(this);if(p.hasClass("tp-static-layer")){var u=p.data("startslide"),f=p.data("endslide");(-1==u||"-1"==u)&&p.data("startslide",0),(-1==f||"-1"==f)&&p.data("endslide",i.slideamount),0==u&&f==i.slideamount-1&&p.data("endslide",i.slideamount+1),u=p.data("startslide"),f=p.data("endslide"),p.hasClass("tp-is-shown")?l=f==i.next||u>i.next||f<i.next?2:0:u<=i.next&&f>=i.next||u==i.next||f==i.next?(p.addClass("tp-is-shown"),l=1):l=0}h=i.width/2-i.startwidth*i.bw/2;{var g=i.bw;i.bh}"on"==i.fullScreen&&(c=i.height/2-i.startheight*i.bh/2),("on"==i.autoHeight||i.minHeight!=e&&i.minHeight>0)&&(c=i.container.height()/2-i.startheight*i.bh/2),0>c&&(c=0);var m=0;if(i.width<i.hideCaptionAtLimit&&"on"==p.data("captionhidden")?(p.addClass("tp-hidden-caption"),m=1):i.width<i.hideAllCaptionAtLimit||i.width<i.hideAllCaptionAtLilmit?(p.addClass("tp-hidden-caption"),m=1):p.removeClass("tp-hidden-caption"),0==m){if(p.data("linktoslide")==e||p.hasClass("hasclicklistener")||(p.addClass("hasclicklistener"),p.css({cursor:"pointer"}),"no"!=p.data("linktoslide")&&p.click(function(){var e=t(this),a=e.data("linktoslide");"next"!=a&&"prev"!=a?(i.container.data("showus",a),i.container.parent().find(".tp-rightarrow").click()):"next"==a?i.container.parent().find(".tp-rightarrow").click():"prev"==a&&i.container.parent().find(".tp-leftarrow").click()})),0>h&&(h=0),p.hasClass("tp-videolayer")||p.find("iframe").length>0||p.find("video").length>0){var v="iframe"+Math.round(1e5*Math.random()+1),w=p.data("videowidth"),b=p.data("videoheight"),y=p.data("videoattributes"),x=p.data("ytid"),T=p.data("vimeoid"),k=p.data("videpreload"),L=p.data("videomp4"),C=p.data("videowebm"),z=p.data("videoogv"),O=p.data("videocontrols"),I="http",_="loop"==p.data("videoloop")?"loop":"loopandnoslidestop"==p.data("videoloop")?"loop":"";if(p.data("thumbimage")!=e&&p.data("videoposter")==e&&p.data("videoposter",p.data("thumbimage")),x!=e&&String(x).length>1&&0==p.find("iframe").length&&(I="https","none"==O&&(y=y.replace("controls=1","controls=0"),-1==y.toLowerCase().indexOf("controls")&&(y+="&controls=0")),p.append('<iframe style="visible:hidden" src="'+I+"://www.youtube.com/embed/"+x+"?"+y+'" width="'+w+'" height="'+b+'" style="width:'+w+"px;height:"+b+'px"></iframe>')),T!=e&&String(T).length>1&&0==p.find("iframe").length&&("https:"===location.protocol&&(I="https"),p.append('<iframe style="visible:hidden" src="'+I+"://player.vimeo.com/video/"+T+"?"+y+'" width="'+w+'" height="'+b+'" style="width:'+w+"px;height:"+b+'px"></iframe>')),(L!=e||C!=e)&&0==p.find("video").length){"controls"!=O&&(O="");var B="";(100==w||"100%"==w)&&(B=";width:100% !important; height:100% !important");var E='<video style="visible:hidden'+B+'" class="" '+_+' preload="'+k+'" width="'+w+'" height="'+b+'" ';p.data("videoposter")!=e&&p.data("videoposter")!=e&&(E=E+'poster="'+p.data("videoposter")+'">'),C!=e&&"firefox"==X().toLowerCase()&&(E=E+'<source src="'+C+'" type="video/webm" />'),L!=e&&(E=E+'<source src="'+L+'" type="video/mp4" />'),z!=e&&(E=E+'<source src="'+z+'" type="video/ogg" />'),E+="</video>",p.append(E),"controls"==O&&p.append('<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div></div>')}var j=!1;(1==p.data("autoplayonlyfirsttime")||"true"==p.data("autoplayonlyfirsttime")||1==p.data("autoplay"))&&(p.data("autoplay",!0),j=!0),p.data("videoposter")!=e&&p.data("videoposter").length>2&&1!=p.data("autoplay")&&!o&&(0==p.find(".tp-thumb-image").length?p.append('<div class="tp-thumb-image" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;background-image:url('+p.data("videoposter")+'); background-size:cover; background-position:center center"></div>'):punchgs.TweenLite.set(p.find(".tp-thumb-image"),{autoAlpha:1})),p.find("iframe").each(function(){var a=t(this);if(punchgs.TweenLite.to(a,.1,{autoAlpha:1,zIndex:0,transformStyle:"preserve-3d",z:0,rotationX:0,force3D:"auto"}),Z()){var o=a.attr("src");a.attr("src",""),a.attr("src",o)}if(i.nextslideatend=p.data("nextslideatend"),a.attr("src").toLowerCase().indexOf("youtube")>=0)if(a.hasClass("HasListener")){if(!n){var r=p.data("player");"on"!=p.data("forcerewind")||Z()||r.seekTo(0),(!Z()&&1==p.data("autoplay")||j)&&p.data("timerplay",setTimeout(function(){r.playVideo()},p.data("start")))}}else try{a.attr("id",v);var r,s=setInterval(function(){YT!=e&&typeof YT.Player!=e&&"undefined"!=typeof YT.Player&&(r=new YT.Player(v,{events:{onStateChange:A,onReady:function(a){{var i=a.target.getVideoEmbedCode(),n=t("#"+i.split('id="')[1].split('"')[0]),o=n.closest(".tp-caption"),s=o.data("videorate");o.data("videostart")}s!=e&&a.target.setPlaybackRate(parseFloat(s)),(!Z()&&1==o.data("autoplay")||j)&&o.data("timerplay",setTimeout(function(){a.target.playVideo()},o.data("start"))),o.find(".tp-thumb-image").click(function(){punchgs.TweenLite.to(t(this),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),Z()||r.playVideo()})}}})),a.addClass("HasListener"),p.data("player",r),clearInterval(s)},100)}catch(d){}else if(a.attr("src").toLowerCase().indexOf("vimeo")>=0)if(a.hasClass("HasListener")){if(!(n||Z()||1!=p.data("autoplay")&&"on"!=p.data("forcerewind"))){var a=p.find("iframe"),l=a.attr("id"),h=$f(l);"on"==p.data("forcerewind")&&h.api("seekTo",0),p.data("timerplay",setTimeout(function(){1==p.data("autoplay")&&h.api("play")},p.data("start")))}}else{a.addClass("HasListener"),a.attr("id",v);for(var c,u=a.attr("src"),f={},g=u,m=/([^&=]+)=([^&]*)/g;c=m.exec(g);)f[decodeURIComponent(c[1])]=decodeURIComponent(c[2]);u=f.player_id!=e?u.replace(f.player_id,v):u+"&player_id="+v;try{u=u.replace("api=0","api=1")}catch(d){}u+="&api=1",a.attr("src",u);var r=p.find("iframe")[0],w=setInterval(function(){$f!=e&&typeof $f(v).api!=e&&"undefined"!=typeof $f(v).api&&($f(r).addEvent("ready",function(){S(v,j)}),clearInterval(w))},100)}}),(Z()&&1==p.data("disablevideoonmobile")||s(8))&&p.find("video").remove(),p.find("video").length>0&&p.find("video").each(function(){var a=this,n=t(this);n.parent().hasClass("html5vid")||n.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:auto;height:auto"></div>');var o=n.parent();M(a,"loadedmetadata",function(t){t.data("metaloaded",1)}(o)),clearInterval(o.data("interval")),o.data("interval",setInterval(function(){if(1==o.data("metaloaded")||0/0!=a.duration){if(clearInterval(o.data("interval")),!o.hasClass("HasListener")){o.addClass("HasListener"),"none"!=p.data("dottedoverlay")&&p.data("dottedoverlay")!=e&&1!=p.find(".tp-dottedoverlay").length&&o.append('<div class="tp-dottedoverlay '+p.data("dottedoverlay")+'"></div>'),n.attr("control")==e&&(0==o.find(".tp-video-play-button").length&&o.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><div class="tp-revstop"></div></div>'),o.parent().find("video, .tp-poster, .tp-thumb-image, .tp-video-play-button").click(function(){o.hasClass("videoisplaying")?a.pause():(a.play(),punchgs.TweenLite.to(o.parent().find(".tp-poster, .tp-thumb-image"),.2,{autoAlpha:0}))})),(1==p.data("forcecover")||p.hasClass("fullscreenvideo"))&&(1==p.data("forcecover")&&(P(o,i.container),o.addClass("fullcoveredvideo"),p.addClass("fullcoveredvideo")),o.css({width:"100%",height:"100%"}));var t=p.find(".tp-vid-play-pause")[0],r=p.find(".tp-vid-mute")[0],s=p.find(".tp-vid-full-screen")[0],d=p.find(".tp-seek-bar")[0],l=p.find(".tp-volume-bar")[0];t!=e&&(M(t,"click",function(){1==a.paused?a.play():a.pause()}),M(r,"click",function(){0==a.muted?(a.muted=!0,r.innerHTML="Unmute"):(a.muted=!1,r.innerHTML="Mute")}),M(s,"click",function(){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}),M(d,"change",function(){var t=a.duration*(d.value/100);a.currentTime=t}),M(a,"timeupdate",function(){var t=100/a.duration*a.currentTime;d.value=t}),M(d,"mousedown",function(){a.pause()}),M(d,"mouseup",function(){a.play()}),M(l,"change",function(){a.volume=l.value})),M(a,"play",function(){"mute"==p.data("volume")&&(a.muted=!0),o.addClass("videoisplaying"),"loopandnoslidestop"==p.data("videoloop")?(i.videoplaying=!1,i.container.trigger("starttimer"),i.container.trigger("revolution.slide.onvideostop")):(i.videoplaying=!0,i.container.trigger("stoptimer"),i.container.trigger("revolution.slide.onvideoplay"));var t=p.find(".tp-vid-play-pause")[0],n=p.find(".tp-vid-mute")[0];t!=e&&(t.innerHTML="Pause"),n!=e&&a.muted&&(n.innerHTML="Unmute")}),M(a,"pause",function(){o.removeClass("videoisplaying"),i.videoplaying=!1,i.container.trigger("starttimer"),i.container.trigger("revolution.slide.onvideostop");var t=p.find(".tp-vid-play-pause")[0];t!=e&&(t.innerHTML="Play")}),M(a,"ended",function(){o.removeClass("videoisplaying"),i.videoplaying=!1,i.container.trigger("starttimer"),i.container.trigger("revolution.slide.onvideostop"),1==i.nextslideatend&&i.container.revnext()})}var h=!1;(1==p.data("autoplayonlyfirsttime")||"true"==p.data("autoplayonlyfirsttime"))&&(h=!0);var c=16/9;if("4:3"==p.data("aspectratio")&&(c=4/3),o.data("mediaAspect",c),1==o.closest(".tp-caption").data("forcecover")&&(P(o,i.container),o.addClass("fullcoveredvideo")),n.css({display:"block"}),i.nextslideatend=p.data("nextslideatend"),"on"!=p.data("forcerewind")||o.hasClass("videoisplaying")||a.currentTime>0&&(a.currentTime=0),(1==p.data("autoplay")||1==h)&&("loopandnoslidestop"==p.data("videoloop")?(i.videoplaying=!1,i.container.trigger("starttimer"),i.container.trigger("revolution.slide.onvideostop")):(i.videoplaying=!0,i.container.trigger("stoptimer"),i.container.trigger("revolution.slide.onvideoplay")),"on"!=p.data("forcerewind")||o.hasClass("videoisplaying")||a.currentTime>0&&(a.currentTime=0),"mute"==p.data("volume")&&(a.muted=!0),o.data("timerplay",setTimeout(function(){"on"!=p.data("forcerewind")||o.hasClass("videoisplaying")||a.currentTime>0&&(a.currentTime=0),"mute"==p.data("volume")&&(a.muted=!0),a.play()},10+p.data("start")))),o.data("ww")==e&&o.data("ww",n.attr("width")),o.data("hh")==e&&o.data("hh",n.attr("height")),!p.hasClass("fullscreenvideo")&&1==p.data("forcecover"))try{o.width(o.data("ww")*i.bw),o.height(o.data("hh")*i.bh)}catch(u){}clearInterval(o.data("interval"))}}),100)}),1==p.data("autoplay")&&(setTimeout(function(){"loopandnoslidestop"!=p.data("videoloop")&&(i.videoplaying=!0,i.container.trigger("stoptimer"))},200),"loopandnoslidestop"!=p.data("videoloop")&&(i.videoplaying=!0,i.container.trigger("stoptimer")),(1==p.data("autoplayonlyfirsttime")||"true"==p.data("autoplayonlyfirsttime"))&&(p.data("autoplay",!1),p.data("autoplayonlyfirsttime",!1)))}var U=0,N=0;if(p.find("img").length>0){var G=p.find("img");0==G.width()&&G.css({width:"auto"}),0==G.height()&&G.css({height:"auto"}),G.data("ww")==e&&G.width()>0&&G.data("ww",G.width()),G.data("hh")==e&&G.height()>0&&G.data("hh",G.height());var $=G.data("ww"),J=G.data("hh");$==e&&($=0),J==e&&(J=0),G.width($*i.bw),G.height(J*i.bh),U=G.width(),N=G.height()}else if(p.find("iframe").length>0||p.find("video").length>0){var Q=!1,G=p.find("iframe");0==G.length&&(G=p.find("video"),Q=!0),G.css({display:"block"}),p.data("ww")==e&&p.data("ww",G.width()),p.data("hh")==e&&p.data("hh",G.height());var $=p.data("ww"),J=p.data("hh"),K=p;K.data("fsize")==e&&K.data("fsize",parseInt(K.css("font-size"),0)||0),K.data("pt")==e&&K.data("pt",parseInt(K.css("paddingTop"),0)||0),K.data("pb")==e&&K.data("pb",parseInt(K.css("paddingBottom"),0)||0),K.data("pl")==e&&K.data("pl",parseInt(K.css("paddingLeft"),0)||0),K.data("pr")==e&&K.data("pr",parseInt(K.css("paddingRight"),0)||0),K.data("mt")==e&&K.data("mt",parseInt(K.css("marginTop"),0)||0),K.data("mb")==e&&K.data("mb",parseInt(K.css("marginBottom"),0)||0),K.data("ml")==e&&K.data("ml",parseInt(K.css("marginLeft"),0)||0),K.data("mr")==e&&K.data("mr",parseInt(K.css("marginRight"),0)||0),K.data("bt")==e&&K.data("bt",parseInt(K.css("borderTop"),0)||0),K.data("bb")==e&&K.data("bb",parseInt(K.css("borderBottom"),0)||0),K.data("bl")==e&&K.data("bl",parseInt(K.css("borderLeft"),0)||0),K.data("br")==e&&K.data("br",parseInt(K.css("borderRight"),0)||0),K.data("lh")==e&&K.data("lh",parseInt(K.css("lineHeight"),0)||0),"auto"==K.data("lh")&&K.data("lh",K.data("fsize")+4);var te=i.width,ee=i.height;if(te>i.startwidth&&(te=i.startwidth),ee>i.startheight&&(ee=i.startheight),p.hasClass("fullscreenvideo")){h=0,c=0,p.data("x",0),p.data("y",0);var ae=i.height;"on"==i.autoHeight&&(ae=i.container.height()),p.css({width:i.width,height:ae})}else p.css({"font-size":K.data("fsize")*i.bw+"px","padding-top":K.data("pt")*i.bh+"px","padding-bottom":K.data("pb")*i.bh+"px","padding-left":K.data("pl")*i.bw+"px","padding-right":K.data("pr")*i.bw+"px","margin-top":K.data("mt")*i.bh+"px","margin-bottom":K.data("mb")*i.bh+"px","margin-left":K.data("ml")*i.bw+"px","margin-right":K.data("mr")*i.bw+"px","border-top":K.data("bt")*i.bh+"px","border-bottom":K.data("bb")*i.bh+"px","border-left":K.data("bl")*i.bw+"px","border-right":K.data("br")*i.bw+"px","line-height":K.data("lh")*i.bh+"px",height:J*i.bh+"px"});0==Q?(G.width($*i.bw),G.height(J*i.bh)):1==p.data("forcecover")||p.hasClass("fullscreenvideo")||(G.width($*i.bw),G.height(J*i.bh)),U=G.width(),N=G.height()}else{p.find(".tp-resizeme, .tp-resizeme *").each(function(){F(t(this),i)}),p.hasClass("tp-resizeme")&&p.find("*").each(function(){F(t(this),i)}),F(p,i),N=p.outerHeight(!0),U=p.outerWidth(!0);var ie=p.outerHeight(),ne=p.css("backgroundColor");p.find(".frontcorner").css({borderWidth:ie+"px",left:0-ie+"px",borderRight:"0px solid transparent",borderTopColor:ne}),p.find(".frontcornertop").css({borderWidth:ie+"px",left:0-ie+"px",borderRight:"0px solid transparent",borderBottomColor:ne}),p.find(".backcorner").css({borderWidth:ie+"px",right:0-ie+"px",borderLeft:"0px solid transparent",borderBottomColor:ne}),p.find(".backcornertop").css({borderWidth:ie+"px",right:0-ie+"px",borderLeft:"0px solid transparent",borderTopColor:ne})}"on"==i.fullScreenAlignForce&&(h=0,c=0),p.data("voffset")==e&&p.data("voffset",0),p.data("hoffset")==e&&p.data("hoffset",0);var oe=p.data("voffset")*g,re=p.data("hoffset")*g,se=i.startwidth*g,de=i.startheight*g;"on"==i.fullScreenAlignForce&&(se=i.container.width(),de=i.container.height()),("center"==p.data("x")||"center"==p.data("xcenter"))&&(p.data("xcenter","center"),p.data("x",se/2-p.outerWidth(!0)/2+re)),("left"==p.data("x")||"left"==p.data("xleft"))&&(p.data("xleft","left"),p.data("x",0/g+re)),("right"==p.data("x")||"right"==p.data("xright"))&&(p.data("xright","right"),p.data("x",(se-p.outerWidth(!0)+re)/g)),("center"==p.data("y")||"center"==p.data("ycenter"))&&(p.data("ycenter","center"),p.data("y",de/2-p.outerHeight(!0)/2+oe)),("top"==p.data("y")||"top"==p.data("ytop"))&&(p.data("ytop","top"),p.data("y",0/i.bh+oe)),("bottom"==p.data("y")||"bottom"==p.data("ybottom"))&&(p.data("ybottom","bottom"),p.data("y",(de-p.outerHeight(!0)+oe)/g)),p.data("start")==e&&p.data("start",1e3);var le=p.data("easing");le==e&&(le="punchgs.Power1.easeOut");var he=p.data("start")/1e3,ce=p.data("speed")/1e3;if("center"==p.data("x")||"center"==p.data("xcenter"))var pe=p.data("x")+h;else var pe=g*p.data("x")+h;if("center"==p.data("y")||"center"==p.data("ycenter"))var ue=p.data("y")+c;else var ue=i.bh*p.data("y")+c;if(punchgs.TweenLite.set(p,{top:ue,left:pe,overwrite:"auto"}),0==l&&(o=!0),p.data("timeline")==e||o||(2!=l&&p.data("timeline").gotoAndPlay(0),o=!0),!o){p.data("timeline")!=e;var fe=new punchgs.TimelineLite({smoothChildTiming:!0,onStart:d});fe.pause(),"on"==i.fullScreenAlignForce;var ge=p;p.data("mySplitText")!=e&&p.data("mySplitText").revert(),("chars"==p.data("splitin")||"words"==p.data("splitin")||"lines"==p.data("splitin")||"chars"==p.data("splitout")||"words"==p.data("splitout")||"lines"==p.data("splitout"))&&(p.find("a").length>0?p.data("mySplitText",new punchgs.SplitText(p.find("a"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):p.find(".tp-layer-inner-rotation").length>0?p.data("mySplitText",new punchgs.SplitText(p.find(".tp-layer-inner-rotation"),{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})):p.data("mySplitText",new punchgs.SplitText(p,{type:"lines,words,chars",charsClass:"tp-splitted",wordsClass:"tp-splitted",linesClass:"tp-splitted"})),p.addClass("splitted")),"chars"==p.data("splitin")&&(ge=p.data("mySplitText").chars),"words"==p.data("splitin")&&(ge=p.data("mySplitText").words),"lines"==p.data("splitin")&&(ge=p.data("mySplitText").lines);var me=D(),ve=D();p.data("repeat")!=e&&(repeatV=p.data("repeat")),p.data("yoyo")!=e&&(yoyoV=p.data("yoyo")),p.data("repeatdelay")!=e&&(repeatdelayV=p.data("repeatdelay"));var we=p.attr("class");we.match("customin")?me=H(me,p.data("customin")):we.match("randomrotate")?(me.scale=3*Math.random()+1,me.rotation=Math.round(200*Math.random()-100),me.x=Math.round(200*Math.random()-100),me.y=Math.round(200*Math.random()-100)):we.match("lfr")||we.match("skewfromright")?me.x=15+i.width:we.match("lfl")||we.match("skewfromleft")?me.x=-15-U:we.match("sfl")||we.match("skewfromleftshort")?me.x=-50:we.match("sfr")||we.match("skewfromrightshort")?me.x=50:we.match("lft")?me.y=-25-N:we.match("lfb")?me.y=25+i.height:we.match("sft")?me.y=-50:we.match("sfb")&&(me.y=50),we.match("skewfromright")||p.hasClass("skewfromrightshort")?me.skewX=-85:(we.match("skewfromleft")||p.hasClass("skewfromleftshort"))&&(me.skewX=85),(we.match("fade")||we.match("sft")||we.match("sfl")||we.match("sfb")||we.match("skewfromleftshort")||we.match("sfr")||we.match("skewfromrightshort"))&&(me.opacity=0),"safari"==X().toLowerCase();var be=p.data("elementdelay")==e?0:p.data("elementdelay");ve.ease=me.ease=p.data("easing")==e?punchgs.Power1.easeInOut:p.data("easing"),me.data=new Object,me.data.oldx=me.x,me.data.oldy=me.y,ve.data=new Object,ve.data.oldx=ve.x,ve.data.oldy=ve.y,me.x=me.x*g,me.y=me.y*g;var ye=new punchgs.TimelineLite;if(2!=l)if(we.match("customin"))ge!=p&&fe.add(punchgs.TweenLite.set(p,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",delay:0,overwrite:"all"})),me.visibility="hidden",ve.visibility="visible",ve.overwrite="all",ve.opacity=1,ve.onComplete=r(),ve.delay=he,ve.force3D="auto",fe.add(ye.staggerFromTo(ge,ce,me,ve,be),"frame0");else if(me.visibility="visible",me.transformPerspective=600,ge!=p&&fe.add(punchgs.TweenLite.set(p,{force3D:"auto",opacity:1,scaleX:1,scaleY:1,rotationX:0,rotationY:0,rotationZ:0,skewX:0,skewY:0,z:0,x:0,y:0,visibility:"visible",delay:0,overwrite:"all"})),ve.visibility="visible",ve.delay=he,ve.onComplete=r(),ve.opacity=1,ve.force3D="auto",we.match("randomrotate")&&ge!=p)for(var a=0;a<ge.length;a++){var xe=new Object,Te=new Object;t.extend(xe,me),t.extend(Te,ve),me.scale=3*Math.random()+1,me.rotation=Math.round(200*Math.random()-100),me.x=Math.round(200*Math.random()-100),me.y=Math.round(200*Math.random()-100),0!=a&&(Te.delay=he+a*be),fe.append(punchgs.TweenLite.fromTo(ge[a],ce,xe,Te),"frame0")}else fe.add(ye.staggerFromTo(ge,ce,me,ve,be),"frame0");p.data("timeline",fe);{new Array}if(p.data("frames")!=e){var ke=p.data("frames");ke=ke.replace(/\s+/g,""),ke=ke.replace("{","");var Le=ke.split("}");t.each(Le,function(t,e){if(e.length>0){var a=W(e);V(p,i,a,"frame"+(t+10),g)}})}fe=p.data("timeline"),p.data("end")==e||-1!=l&&2!=l?-1==l||2==l?q(p,i,999999,me,"frame99",g):q(p,i,999999,me,"frame99",g):q(p,i,p.data("end")/1e3,me,"frame99",g),fe=p.data("timeline"),p.data("timeline",fe),Y(p,g),fe.resume()}}if(o&&(R(p),Y(p,g),p.data("timeline")!=e)){var Ce=p.data("timeline").getTweensOf();t.each(Ce,function(t,a){if(a.vars.data!=e){var i=a.vars.data.oldx*g,n=a.vars.data.oldy*g;if(1!=a.progress()&&0!=a.progress())try{a.vars.x=i,a.vary.y=n}catch(o){}else 1==a.progress()&&punchgs.TweenLite.set(a.target,{x:i,y:n})}})}});var f=t("body").find("#"+i.container.attr("id")).find(".tp-bannertimer");f.data("opt",i),o!=e&&setTimeout(function(){o.resume()},30)},X=function(){var t,e=navigator.appName,a=navigator.userAgent,i=a.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return i&&null!=(t=a.match(/version\/([\.\d]+)/i))&&(i[2]=t[1]),i=i?[i[1],i[2]]:[e,navigator.appVersion,"-?"],i[0]},F=function(t,a){t.data("fsize")==e&&t.data("fsize",parseInt(t.css("font-size"),0)||0),t.data("pt")==e&&t.data("pt",parseInt(t.css("paddingTop"),0)||0),t.data("pb")==e&&t.data("pb",parseInt(t.css("paddingBottom"),0)||0),t.data("pl")==e&&t.data("pl",parseInt(t.css("paddingLeft"),0)||0),t.data("pr")==e&&t.data("pr",parseInt(t.css("paddingRight"),0)||0),t.data("mt")==e&&t.data("mt",parseInt(t.css("marginTop"),0)||0),t.data("mb")==e&&t.data("mb",parseInt(t.css("marginBottom"),0)||0),t.data("ml")==e&&t.data("ml",parseInt(t.css("marginLeft"),0)||0),t.data("mr")==e&&t.data("mr",parseInt(t.css("marginRight"),0)||0),t.data("bt")==e&&t.data("bt",parseInt(t.css("borderTopWidth"),0)||0),t.data("bb")==e&&t.data("bb",parseInt(t.css("borderBottomWidth"),0)||0),t.data("bl")==e&&t.data("bl",parseInt(t.css("borderLeftWidth"),0)||0),t.data("br")==e&&t.data("br",parseInt(t.css("borderRightWidth"),0)||0),t.data("ls")==e&&t.data("ls",parseInt(t.css("letterSpacing"),0)||0),t.data("lh")==e&&t.data("lh",parseInt(t.css("lineHeight"),0)||"auto"),t.data("minwidth")==e&&t.data("minwidth",parseInt(t.css("minWidth"),0)||0),t.data("minheight")==e&&t.data("minheight",parseInt(t.css("minHeight"),0)||0),t.data("maxwidth")==e&&t.data("maxwidth",parseInt(t.css("maxWidth"),0)||"none"),t.data("maxheight")==e&&t.data("maxheight",parseInt(t.css("maxHeight"),0)||"none"),t.data("wii")==e&&t.data("wii",parseInt(t.css("width"),0)||0),t.data("hii")==e&&t.data("hii",parseInt(t.css("height"),0)||0),t.data("wan")==e&&t.data("wan",t.css("-webkit-transition")),t.data("moan")==e&&t.data("moan",t.css("-moz-animation-transition")),t.data("man")==e&&t.data("man",t.css("-ms-animation-transition")),t.data("ani")==e&&t.data("ani",t.css("transition")),"auto"==t.data("lh")&&t.data("lh",t.data("fsize")+4),t.hasClass("tp-splitted")||(t.css("-webkit-transition","none"),t.css("-moz-transition","none"),t.css("-ms-transition","none"),t.css("transition","none"),punchgs.TweenLite.set(t,{fontSize:Math.round(t.data("fsize")*a.bw)+"px",letterSpacing:Math.floor(t.data("ls")*a.bw)+"px",paddingTop:Math.round(t.data("pt")*a.bh)+"px",paddingBottom:Math.round(t.data("pb")*a.bh)+"px",paddingLeft:Math.round(t.data("pl")*a.bw)+"px",paddingRight:Math.round(t.data("pr")*a.bw)+"px",marginTop:t.data("mt")*a.bh+"px",marginBottom:t.data("mb")*a.bh+"px",marginLeft:t.data("ml")*a.bw+"px",marginRight:t.data("mr")*a.bw+"px",borderTopWidth:Math.round(t.data("bt")*a.bh)+"px",borderBottomWidth:Math.round(t.data("bb")*a.bh)+"px",borderLeftWidth:Math.round(t.data("bl")*a.bw)+"px",borderRightWidth:Math.round(t.data("br")*a.bw)+"px",lineHeight:Math.round(t.data("lh")*a.bh)+"px",minWidth:t.data("minwidth")*a.bw+"px",minHeight:t.data("minheight")*a.bh+"px",overwrite:"auto"}),setTimeout(function(){t.css("-webkit-transition",t.data("wan")),t.css("-moz-transition",t.data("moan")),t.css("-ms-transition",t.data("man")),t.css("transition",t.data("ani"))},30),"none"!=t.data("maxheight")&&t.css({maxHeight:t.data("maxheight")*a.bh+"px"}),"none"!=t.data("maxwidth")&&t.css({maxWidth:t.data("maxwidth")*a.bw+"px"}))},Y=function(a,i){a.find(".rs-pendulum").each(function(){var a=t(this);if(a.data("timeline")==e){a.data("timeline",new punchgs.TimelineLite);var n=a.data("startdeg")==e?-20:a.data("startdeg"),o=a.data("enddeg")==e?20:a.data("enddeg"),r=a.data("speed")==e?2:a.data("speed"),s=a.data("origin")==e?"50% 50%":a.data("origin"),d=a.data("easing")==e?punchgs.Power2.easeInOut:a.data("ease");n*=i,o*=i,a.data("timeline").append(new punchgs.TweenLite.fromTo(a,r,{force3D:"auto",rotation:n,transformOrigin:s},{rotation:o,ease:d})),a.data("timeline").append(new punchgs.TweenLite.fromTo(a,r,{force3D:"auto",rotation:o,transformOrigin:s},{rotation:n,ease:d,onComplete:function(){a.data("timeline").restart()}}))}}),a.find(".rs-rotate").each(function(){var a=t(this);if(a.data("timeline")==e){a.data("timeline",new punchgs.TimelineLite);var n=a.data("startdeg")==e?0:a.data("startdeg"),o=a.data("enddeg")==e?360:a.data("enddeg");speed=a.data("speed")==e?2:a.data("speed"),origin=a.data("origin")==e?"50% 50%":a.data("origin"),easing=a.data("easing")==e?punchgs.Power2.easeInOut:a.data("easing"),n*=i,o*=i,a.data("timeline").append(new punchgs.TweenLite.fromTo(a,speed,{force3D:"auto",rotation:n,transformOrigin:origin},{rotation:o,ease:easing,onComplete:function(){a.data("timeline").restart()}}))}}),a.find(".rs-slideloop").each(function(){var a=t(this);if(a.data("timeline")==e){a.data("timeline",new punchgs.TimelineLite);var n=a.data("xs")==e?0:a.data("xs"),o=a.data("ys")==e?0:a.data("ys"),r=a.data("xe")==e?0:a.data("xe"),s=a.data("ye")==e?0:a.data("ye"),d=a.data("speed")==e?2:a.data("speed"),l=a.data("easing")==e?punchgs.Power2.easeInOut:a.data("easing");n*=i,o*=i,r*=i,s*=i,a.data("timeline").append(new punchgs.TweenLite.fromTo(a,d,{force3D:"auto",x:n,y:o},{x:r,y:s,ease:l})),a.data("timeline").append(new punchgs.TweenLite.fromTo(a,d,{force3D:"auto",x:r,y:s},{x:n,y:o,onComplete:function(){a.data("timeline").restart()}}))}}),a.find(".rs-pulse").each(function(){var a=t(this);if(a.data("timeline")==e){a.data("timeline",new punchgs.TimelineLite);var i=a.data("zoomstart")==e?0:a.data("zoomstart"),n=a.data("zoomend")==e?0:a.data("zoomend"),o=a.data("speed")==e?2:a.data("speed"),r=a.data("easing")==e?punchgs.Power2.easeInOut:a.data("easing");a.data("timeline").append(new punchgs.TweenLite.fromTo(a,o,{force3D:"auto",scale:i},{scale:n,ease:r})),a.data("timeline").append(new punchgs.TweenLite.fromTo(a,o,{force3D:"auto",scale:n},{scale:i,onComplete:function(){a.data("timeline").restart()}}))}}),a.find(".rs-wave").each(function(){var a=t(this);if(a.data("timeline")==e){a.data("timeline",new punchgs.TimelineLite);{var n=a.data("angle")==e?10:a.data("angle"),o=a.data("radius")==e?10:a.data("radius"),r=a.data("speed")==e?-20:a.data("speed");a.data("origin")==e?-20:a.data("origin")}n*=i,o*=i;var s={a:0,ang:n,element:a,unit:o};a.data("timeline").append(new punchgs.TweenLite.fromTo(s,r,{a:360},{a:0,force3D:"auto",ease:punchgs.Linear.easeNone,onUpdate:function(){var t=s.a*(Math.PI/180);punchgs.TweenLite.to(s.element,.1,{force3D:"auto",x:Math.cos(t)*s.unit,y:s.unit*(1-Math.sin(t))})},onComplete:function(){a.data("timeline").restart()}}))}})},R=function(a){a.find(".rs-pendulum, .rs-slideloop, .rs-pulse, .rs-wave").each(function(){var a=t(this);a.data("timeline")!=e&&(a.data("timeline").pause(),a.data("timeline",null))})},B=function(a,i){var n=0,o=a.find(".tp-caption"),r=i.container.find(".tp-static-layers").find(".tp-caption");return t.each(r,function(t,e){o.push(e)}),o.each(function(){var a=-1,o=t(this);if(o.hasClass("tp-static-layer")&&((-1==o.data("startslide")||"-1"==o.data("startslide"))&&o.data("startslide",0),(-1==o.data("endslide")||"-1"==o.data("endslide"))&&o.data("endslide",i.slideamount),o.hasClass("tp-is-shown")?o.data("startslide")>i.next||o.data("endslide")<i.next?(a=2,o.removeClass("tp-is-shown")):a=0:a=2),0!=a){if(R(o),o.find("iframe").length>0){punchgs.TweenLite.to(o.find("iframe"),.2,{autoAlpha:0}),Z()&&o.find("iframe").remove();try{var r=o.find("iframe"),s=r.attr("id"),d=$f(s);d.api("pause"),clearTimeout(o.data("timerplay"))}catch(l){}try{var h=o.data("player");h.stopVideo(),clearTimeout(o.data("timerplay"))}catch(l){}}if(o.find("video").length>0)try{o.find("video").each(function(){{var e=t(this).parent();e.attr("id")}clearTimeout(e.data("timerplay"));var a=this;a.pause()})}catch(l){}try{var c=o.data("timeline"),p=c.getLabelTime("frame99"),u=c.time();if(p>u){var f=c.getTweensOf(o);if(t.each(f,function(t,e){0!=t&&e.pause()}),0!=o.css("opacity")){var g=o.data(o.data("endspeed")==e?"speed":"endspeed");g>n&&(n=g),c.play("frame99")}else c.progress(1,!1)}}catch(l){}}}),n},V=function(t,a,i,n,o){var r=t.data("timeline"),s=new punchgs.TimelineLite,d=t;"chars"==i.typ?d=t.data("mySplitText").chars:"words"==i.typ?d=t.data("mySplitText").words:"lines"==i.typ&&(d=t.data("mySplitText").lines),i.animation.ease=i.ease,i.animation.rotationZ!=e&&(i.animation.rotation=i.animation.rotationZ),i.animation.data=new Object,i.animation.data.oldx=i.animation.x,i.animation.data.oldy=i.animation.y,i.animation.x=i.animation.x*o,i.animation.y=i.animation.y*o,r.add(s.staggerTo(d,i.speed,i.animation,i.elementdelay),i.start),r.addLabel(n,i.start),t.data("timeline",r)},q=function(t,a,i,n,o,r){var s=t.data("timeline"),d=new punchgs.TimelineLite,l=D(),h=t.data(t.data("endspeed")==e?"speed":"endspeed"),c=t.attr("class");if(l.ease=t.data("endeasing")==e?punchgs.Power1.easeInOut:t.data("endeasing"),h/=1e3,c.match("ltr")||c.match("ltl")||c.match("str")||c.match("stl")||c.match("ltt")||c.match("ltb")||c.match("stt")||c.match("stb")||c.match("skewtoright")||c.match("skewtorightshort")||c.match("skewtoleft")||c.match("skewtoleftshort")||c.match("fadeout")||c.match("randomrotateout")){c.match("skewtoright")||c.match("skewtorightshort")?l.skewX=35:(c.match("skewtoleft")||c.match("skewtoleftshort"))&&(l.skewX=-35),c.match("ltr")||c.match("skewtoright")?l.x=a.width+60:c.match("ltl")||c.match("skewtoleft")?l.x=0-(a.width+60):c.match("ltt")?l.y=0-(a.height+60):c.match("ltb")?l.y=a.height+60:c.match("str")||c.match("skewtorightshort")?(l.x=50,l.opacity=0):c.match("stl")||c.match("skewtoleftshort")?(l.x=-50,l.opacity=0):c.match("stt")?(l.y=-50,l.opacity=0):c.match("stb")?(l.y=50,l.opacity=0):c.match("randomrotateout")?(l.x=Math.random()*a.width,l.y=Math.random()*a.height,l.scale=2*Math.random()+.3,l.rotation=360*Math.random()-180,l.opacity=0):c.match("fadeout")&&(l.opacity=0),c.match("skewtorightshort")?l.x=270:c.match("skewtoleftshort")&&(l.x=-270),l.data=new Object,l.data.oldx=l.x,l.data.oldy=l.y,l.x=l.x*r,l.y=l.y*r,l.overwrite="auto";var p=t,p=t;"chars"==t.data("splitout")?p=t.data("mySplitText").chars:"words"==t.data("splitout")?p=t.data("mySplitText").words:"lines"==t.data("splitout")&&(p=t.data("mySplitText").lines);var u=t.data("endelementdelay")==e?0:t.data("endelementdelay");s.add(d.staggerTo(p,h,l,u),i)}else if(t.hasClass("customout")){l=H(l,t.data("customout"));var p=t;"chars"==t.data("splitout")?p=t.data("mySplitText").chars:"words"==t.data("splitout")?p=t.data("mySplitText").words:"lines"==t.data("splitout")&&(p=t.data("mySplitText").lines);var u=t.data("endelementdelay")==e?0:t.data("endelementdelay");l.onStart=function(){punchgs.TweenLite.set(t,{transformPerspective:l.transformPerspective,transformOrigin:l.transformOrigin,overwrite:"auto"})},l.data=new Object,l.data.oldx=l.x,l.data.oldy=l.y,l.x=l.x*r,l.y=l.y*r,s.add(d.staggerTo(p,h,l,u),i)}else n.delay=0,s.add(punchgs.TweenLite.to(t,h,n),i);s.addLabel(o,i),t.data("timeline",s)},E=function(e,a){e.children().each(function(){try{t(this).die("click")}catch(e){}try{t(this).die("mouseenter")
}catch(e){}try{t(this).die("mouseleave")}catch(e){}try{t(this).unbind("hover")}catch(e){}});try{e.die("click","mouseenter","mouseleave")}catch(i){}clearInterval(a.cdint),e=null},j=function(a,i){if(i.cd=0,i.loop=0,i.looptogo=i.stopAfterLoops!=e&&i.stopAfterLoops>-1?i.stopAfterLoops:9999999,i.lastslidetoshow=i.stopAtSlide!=e&&i.stopAtSlide>-1?i.stopAtSlide:999,i.stopLoop="off",0==i.looptogo&&(i.stopLoop="on"),i.slideamount>1&&(0!=i.stopAfterLoops||1!=i.stopAtSlide)){var n=a.find(".tp-bannertimer");a.on("stoptimer",function(){var e=t(this).find(".tp-bannertimer");e.data("tween").pause(),"on"==i.hideTimerBar&&e.css({visibility:"hidden"})}),a.on("starttimer",function(){1!=i.conthover&&1!=i.videoplaying&&i.width>i.hideSliderAtLimit&&1!=i.bannertimeronpause&&1!=i.overnav&&("on"==i.stopLoop&&i.next==i.lastslidetoshow-1||1==i.noloopanymore?i.noloopanymore=1:(n.css({visibility:"visible"}),n.data("tween").resume())),"on"==i.hideTimerBar&&n.css({visibility:"hidden"})}),a.on("restarttimer",function(){var e=t(this).find(".tp-bannertimer");"on"==i.stopLoop&&i.next==i.lastslidetoshow-1||1==i.noloopanymore?i.noloopanymore=1:(e.css({visibility:"visible"}),e.data("tween").kill(),e.data("tween",punchgs.TweenLite.fromTo(e,i.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:o,delay:1}))),"on"==i.hideTimerBar&&e.css({visibility:"hidden"})}),a.on("nulltimer",function(){n.data("tween").pause(0),"on"==i.hideTimerBar&&n.css({visibility:"hidden"})});var o=function(){0==t("body").find(a).length&&(E(a,i),clearInterval(i.cdint)),a.trigger("revolution.slide.slideatend"),1==a.data("conthover-changed")&&(i.conthover=a.data("conthover"),a.data("conthover-changed",0)),i.act=i.next,i.next=i.next+1,i.next>a.find(">ul >li").length-1&&(i.next=0,i.looptogo=i.looptogo-1,i.looptogo<=0&&(i.stopLoop="on")),"on"==i.stopLoop&&i.next==i.lastslidetoshow-1?(a.find(".tp-bannertimer").css({visibility:"hidden"}),a.trigger("revolution.slide.onstop"),i.noloopanymore=1):n.data("tween").restart(),L(a,i)};n.data("tween",punchgs.TweenLite.fromTo(n,i.delay/1e3,{width:"0%"},{force3D:"auto",width:"100%",ease:punchgs.Linear.easeNone,onComplete:o,delay:1})),n.data("opt",i),a.hover(function(){if("on"==i.onHoverStop&&!Z()){a.trigger("stoptimer"),a.trigger("revolution.slide.onpause");var n=a.find(">ul >li:eq("+i.next+") .slotholder");n.find(".defaultimg").each(function(){var a=t(this);a.data("kenburn")!=e&&a.data("kenburn").pause()})}},function(){if(1!=a.data("conthover")){a.trigger("revolution.slide.onresume"),a.trigger("starttimer");var n=a.find(">ul >li:eq("+i.next+") .slotholder");n.find(".defaultimg").each(function(){var a=t(this);a.data("kenburn")!=e&&a.data("kenburn").play()})}})}},Z=function(){var t=["android","webos","iphone","ipad","blackberry","Android","webos",,"iPod","iPhone","iPad","Blackberry","BlackBerry"],e=!1;for(var a in t)navigator.userAgent.split(t[a]).length>1&&(e=!0);return e},U=function(t,e,a){var i=e.data("owidth"),n=e.data("oheight");if(i/n>a.width/a.height){var o=a.container.width()/i,r=n*o,s=r/a.container.height()*t;return t*=100/s,s=100,t=t,t+"% "+s+"% 1"}var o=a.container.width()/i,r=n*o,s=r/a.container.height()*t;return t+"% "+s+"%"},N=function(a,i,n,o){try{{a.find(">ul:first-child >li:eq("+i.act+")")}}catch(r){{a.find(">ul:first-child >li:eq(1)")}}i.lastslide=i.act;var d=a.find(">ul:first-child >li:eq("+i.next+")"),l=d.find(".slotholder"),h=l.data("bgposition"),c=l.data("bgpositionend"),p=l.data("zoomstart")/100,u=l.data("zoomend")/100,f=l.data("rotationstart"),g=l.data("rotationend"),m=l.data("bgfit"),v=l.data("bgfitend"),w=l.data("easeme"),b=l.data("duration")/1e3,y=100;m==e&&(m=100),v==e&&(v=100);var x=m,T=v;m=U(m,l,i),v=U(v,l,i),y=U(100,l,i),p==e&&(p=1),u==e&&(u=1),f==e&&(f=0),g==e&&(g=0),1>p&&(p=1),1>u&&(u=1);var k=new Object;k.w=parseInt(y.split(" ")[0],0),k.h=parseInt(y.split(" ")[1],0);var L=!1;"1"==y.split(" ")[2]&&(L=!0),l.find(".defaultimg").each(function(){var e=t(this);0==l.find(".kenburnimg").length?l.append('<div class="kenburnimg" style="position:absolute;z-index:1;width:100%;height:100%;top:0px;left:0px;"><img src="'+e.attr("src")+'" style="-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;position:absolute;width:'+k.w+"%;height:"+k.h+'%;"></div>'):l.find(".kenburnimg img").css({width:k.w+"%",height:k.h+"%"});var a=l.find(".kenburnimg img"),n=G(i,h,m,a,L),r=G(i,c,v,a,L);if(L&&(n.w=x/100,r.w=T/100),o){punchgs.TweenLite.set(a,{autoAlpha:0,transformPerspective:1200,transformOrigin:"0% 0%",top:0,left:0,scale:n.w,x:n.x,y:n.y});var d=n.w,p=d*a.width()-i.width,u=d*a.height()-i.height,f=Math.abs(n.x/p*100),y=Math.abs(n.y/u*100);0==u&&(y=0),0==p&&(f=0),e.data("bgposition",f+"% "+y+"%"),s(8)||e.data("currotate",$(a)),s(8)||e.data("curscale",k.w*d+"%  "+(k.h*d+"%")),l.find(".kenburnimg").remove()}else e.data("kenburn",punchgs.TweenLite.fromTo(a,b,{autoAlpha:1,force3D:punchgs.force3d,transformOrigin:"0% 0%",top:0,left:0,scale:n.w,x:n.x,y:n.y},{autoAlpha:1,rotationZ:g,ease:w,x:r.x,y:r.y,scale:r.w,onUpdate:function(){var t=a[0]._gsTransform.scaleX,n=t*a.width()-i.width,o=t*a.height()-i.height,r=Math.abs(a[0]._gsTransform.x/n*100),d=Math.abs(a[0]._gsTransform.y/o*100);0==o&&(d=0),0==n&&(r=0),e.data("bgposition",r+"% "+d+"%"),s(8)||e.data("currotate",$(a)),s(8)||e.data("curscale",k.w*t+"%  "+(k.h*t+"%"))}}))})},G=function(t,e,a,i,n){var o=new Object;switch(o.w=n?parseInt(a.split(" ")[1],0)/100:parseInt(a.split(" ")[0],0)/100,e){case"left top":case"top left":o.x=0,o.y=0;break;case"center top":case"top center":o.x=((0-i.width())*o.w+parseInt(t.width,0))/2,o.y=0;break;case"top right":case"right top":o.x=(0-i.width())*o.w+parseInt(t.width,0),o.y=0;break;case"center left":case"left center":o.x=0,o.y=((0-i.height())*o.w+parseInt(t.height,0))/2;break;case"center center":o.x=((0-i.width())*o.w+parseInt(t.width,0))/2,o.y=((0-i.height())*o.w+parseInt(t.height,0))/2;break;case"center right":case"right center":o.x=(0-i.width())*o.w+parseInt(t.width,0),o.y=((0-i.height())*o.w+parseInt(t.height,0))/2;break;case"bottom left":case"left bottom":o.x=0,o.y=(0-i.height())*o.w+parseInt(t.height,0);break;case"bottom center":case"center bottom":o.x=((0-i.width())*o.w+parseInt(t.width,0))/2,o.y=(0-i.height())*o.w+parseInt(t.height,0);break;case"bottom right":case"right bottom":o.x=(0-i.width())*o.w+parseInt(t.width,0),o.y=(0-i.height())*o.w+parseInt(t.height,0)}return o},$=function(t){var e=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform");if("none"!==e)var a=e.split("(")[1].split(")")[0].split(","),i=a[0],n=a[1],o=Math.round(Math.atan2(n,i)*(180/Math.PI));else var o=0;return 0>o?o+=360:o},J=function(a,i){try{var n=a.find(">ul:first-child >li:eq("+i.act+")")}catch(o){var n=a.find(">ul:first-child >li:eq(1)")}i.lastslide=i.act;{var r=a.find(">ul:first-child >li:eq("+i.next+")");n.find(".slotholder"),r.find(".slotholder")}a.find(".defaultimg").each(function(){var a=t(this);punchgs.TweenLite.killTweensOf(a,!1),punchgs.TweenLite.set(a,{scale:1,rotationZ:0}),punchgs.TweenLite.killTweensOf(a.data("kenburn img"),!1),a.data("kenburn")!=e&&a.data("kenburn").pause(),a.data("currotate")!=e&&a.data("bgposition")!=e&&a.data("curscale")!=e&&punchgs.TweenLite.set(a,{rotation:a.data("currotate"),backgroundPosition:a.data("bgposition"),backgroundSize:a.data("curscale")}),a!=e&&a.data("kenburn img")!=e&&a.data("kenburn img").length>0&&punchgs.TweenLite.set(a.data("kenburn img"),{autoAlpha:0})})},Q=function(a,i){return Z()&&"on"==i.parallaxDisableOnMobile?!1:(a.find(".tp-revslider-mainul >li").each(function(){for(var e=t(this),a=1;10>=a;a++)e.find(".rs-parallaxlevel-"+a).each(function(){var e=t(this);e.wrapInner('<div style="position:relative;" class="tp-parallax-container" data-parallaxlevel="'+i.parallaxLevels[a-1]+'"></div>')})}),("mouse"==i.parallax||"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax)&&(a.mouseenter(function(t){var e=a.find(".current-sr-slide-visible"),i=a.offset().top,n=a.offset().left,o=t.pageX-n,r=t.pageY-i;e.data("enterx",o),e.data("entery",r)}),a.on("mousemove.hoverdir, mouseleave.hoverdir",function(n){var o=a.find(".current-sr-slide-visible");switch(n.type){case"mousemove":var r=a.offset().top,s=a.offset().left;o.data("enterx")==e&&o.data("enterx",n.pageX-s),o.data("entery")==e&&o.data("entery",n.pageY-r);var d=o.data("enterx"),l=o.data("entery"),h=d-(n.pageX-s),c=l-(n.pageY-r);o.find(".tp-parallax-container").each(function(){var e=t(this),a=parseInt(e.data("parallaxlevel"),0)/100,n=h*a,o=c*a;"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax?punchgs.TweenLite.to(e,.4,{force3D:"auto",x:n,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.4,{force3D:"auto",x:n,y:o,ease:punchgs.Power3.easeOut,overwrite:"all"})});break;case"mouseleave":o.find(".tp-parallax-container").each(function(){var e=t(this);"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax?punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,ease:punchgs.Power3.easeOut}):punchgs.TweenLite.to(e,1.5,{force3D:"auto",x:0,y:0,ease:punchgs.Power3.easeOut})})}}),Z()&&(window.ondeviceorientation=function(e){var i=Math.round(e.beta||0),n=Math.round(e.gamma||0),o=a.find(".current-sr-slide-visible");if(t(window).width()>t(window).height()){var r=n;n=i,i=r}var s=360/a.width()*n,d=180/a.height()*i;o.find(".tp-parallax-container").each(function(){var e=t(this),a=parseInt(e.data("parallaxlevel"),0)/100,i=s*a,n=d*a;punchgs.TweenLite.to(e,.2,{force3D:"auto",x:i,y:n,ease:punchgs.Power3.easeOut})})})),void(("scroll"==i.parallax||"scroll+mouse"==i.parallax||"mouse+scroll"==i.parallax)&&t(window).on("scroll",function(){K(a,i)})))},K=function(e,a){if(Z()&&"on"==a.parallaxDisableOnMobile)return!1;var i=e.offset().top,n=t(window).scrollTop(),o=i+e.height()/2,r=i+e.height()/2-n,s=t(window).height()/2,d=s-r;s>o&&(d-=s-o);e.find(".current-sr-slide-visible");if(e.find(".tp-parallax-container").each(function(){var e=t(this),a=parseInt(e.data("parallaxlevel"),0)/100,i=d*a;e.data("parallaxoffset",i),punchgs.TweenLite.to(e,.2,{force3D:"auto",y:i,ease:punchgs.Power3.easeOut})}),"on"!=a.parallaxBgFreeze){var l=a.parallaxLevels[0]/100,h=d*l;punchgs.TweenLite.to(e,.2,{force3D:"auto",y:h,ease:punchgs.Power3.easeOut})}},te=function(a,i){var n=a.parent();("thumb"==i.navigationType||"both"==i.navsecond)&&n.append('<div class="tp-bullets tp-thumbs '+i.navigationStyle+'"><div class="tp-mask"><div class="tp-thumbcontainer"></div></div></div>');var o=n.find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer"),r=o.parent();r.width(i.thumbWidth*i.thumbAmount),r.height(i.thumbHeight),r.parent().width(i.thumbWidth*i.thumbAmount),r.parent().height(i.thumbHeight),a.find(">ul:first >li").each(function(t){var n=a.find(">ul:first >li:eq("+t+")"),r=n.find(".defaultimg").css("backgroundColor");if(n.data("thumb")!=e)var s=n.data("thumb");else var s=n.find("img:first").attr("src");o.append('<div class="bullet thumb" style="background-color:'+r+";position:relative;width:"+i.thumbWidth+"px;height:"+i.thumbHeight+"px;background-image:url("+s+') !important;background-size:cover;background-position:center center;"></div>');o.find(".bullet:first")});var s=10;o.find(".bullet").each(function(e){var n=t(this);e==i.slideamount-1&&n.addClass("last"),0==e&&n.addClass("first"),n.width(i.thumbWidth),n.height(i.thumbHeight),s<n.outerWidth(!0)&&(s=n.outerWidth(!0)),n.click(function(){0==i.transition&&n.index()!=i.act&&(i.next=n.index(),d(i,a))})});var l=s*a.find(">ul:first >li").length,h=o.parent().width();i.thumbWidth=s,l>h&&(t(document).mousemove(function(e){t("body").data("mousex",e.pageX)}),o.parent().mouseenter(function(){var e=t(this),i=e.offset(),n=t("body").data("mousex")-i.left,o=e.width(),r=e.find(".bullet:first").outerWidth(!0),s=r*a.find(">ul:first >li").length,d=s-o+15,l=d/o;e.addClass("over"),n-=30;var h=0-n*l;h>0&&(h=0),0-s+o>h&&(h=0-s+o),ae(e,h,200)}),o.parent().mousemove(function(){var e=t(this),i=e.offset(),n=t("body").data("mousex")-i.left,o=e.width(),r=e.find(".bullet:first").outerWidth(!0),s=r*a.find(">ul:first >li").length-1,d=s-o+15,l=d/o;n-=3,6>n&&(n=0),n+3>o-6&&(n=o);var h=0-n*l;h>0&&(h=0),0-s+o>h&&(h=0-s+o),ae(e,h,0)}),o.parent().mouseleave(function(){var e=t(this);e.removeClass("over"),ee(a)}))},ee=function(t){var e=t.parent().find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer"),a=e.parent(),i=(a.offset(),a.find(".bullet:first").outerWidth(!0)),n=a.find(".bullet.selected").index()*i,o=a.width(),i=a.find(".bullet:first").outerWidth(!0),r=i*t.find(">ul:first >li").length,s=0-n;s>0&&(s=0),0-r+o>s&&(s=0-r+o),a.hasClass("over")||ae(a,s,200)},ae=function(t,e){punchgs.TweenLite.to(t.find(".tp-thumbcontainer"),.2,{force3D:"auto",left:e,ease:punchgs.Power3.easeOut,overwrite:"auto"})}}(jQuery);
;;window.Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(n.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+p.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+q.join(d+" ")+d).split(" "),G(e,b,c))}function I(){e.input=function(c){for(var d=0,e=c.length;d<e;d++)t[c[d]]=c[d]in k;return t.list&&(t.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),t}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),e.inputtypes=function(a){for(var d=0,e,f,h,i=a.length;d<i;d++)k.setAttribute("type",f=a[d]),e=k.type!=="text",e&&(k.value=l,k.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&k.style.WebkitAppearance!==c?(g.appendChild(k),h=b.defaultView,e=h.getComputedStyle&&h.getComputedStyle(k,null).WebkitAppearance!=="textfield"&&k.offsetHeight!==0,g.removeChild(k)):/^(search|tel)$/.test(f)||(/^(url|email)$/.test(f)?e=k.checkValidity&&k.checkValidity()===!1:e=k.value!=l)),s[a[d]]=!!e;return s}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k=b.createElement("input"),l=":)",m={}.toString,n=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",p=o.split(" "),q=o.toLowerCase().split(" "),r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexbox=function(){return H("flexWrap")},r.flexboxlegacy=function(){return H("boxDirection")},r.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},r.canvastext=function(){return!!e.canvas&&!!D(b.createElement("canvas").getContext("2d").fillText,"function")},r.postmessage=function(){return!!a.postMessage},r.websqldatabase=function(){return!!a.openDatabase},r.indexedDB=function(){return!!H("indexedDB",a)},r.hashchange=function(){return y("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},r.history=function(){return!!a.history&&!!history.pushState},r.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},r.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},r.rgba=function(){return B("background-color:rgba(150,255,150,.5)"),E(j.backgroundColor,"rgba")},r.hsla=function(){return B("background-color:hsla(120,40%,100%,.5)"),E(j.backgroundColor,"rgba")||E(j.backgroundColor,"hsla")},r.multiplebgs=function(){return B("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(j.background)},r.backgroundsize=function(){return H("backgroundSize")},r.borderimage=function(){return H("borderImage")},r.borderradius=function(){return H("borderRadius")},r.boxshadow=function(){return H("boxShadow")},r.textshadow=function(){return b.createElement("div").style.textShadow===""},r.opacity=function(){return C("opacity:.55"),/^0.55$/.test(j.opacity)},r.cssanimations=function(){return H("animationName")},r.csscolumns=function(){return H("columnCount")},r.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return B((a+"-webkit- ".split(" ").join(b+a)+n.join(c+a)).slice(0,-a.length)),E(j.backgroundImage,"gradient")},r.cssreflections=function(){return H("boxReflect")},r.csstransforms=function(){return!!H("transform")},r.csstransforms3d=function(){var a=!!H("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return H("transition")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},r.generatedcontent=function(){var a;return x(["#",h,"{font:0/0 a}#",h,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},r.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c},r.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c},r.localstorage=function(){try{return localStorage.setItem(h,h),localStorage.removeItem(h),!0}catch(a){return!1}},r.sessionstorage=function(){try{return sessionStorage.setItem(h,h),sessionStorage.removeItem(h),!0}catch(a){return!1}},r.webworkers=function(){return!!a.Worker},r.applicationcache=function(){return!!a.applicationCache};for(var J in r)A(r,J)&&(w=J.toLowerCase(),e[w]=r[J](),u.push((e[w]?"":"no-")+w));return e.input||I(),e.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=n,e._domPrefixes=q,e._cssomPrefixes=p,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,e.prefixed=function(a,b,c){return b?H(a,b,c):H(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};