/*original script/idea http://codepen.io/frexuz/pen/BvHsk by Kristian Gerardsson*/
"use strict";window.onload=function(){setTimeout(start,200)};function start(){function z(j,I,J,K){var i=j+J*Math.cos(K),H=I+J*Math.sin(K);return{x:i,y:H}}function k(j,i){return j+Math.random()*(i-j)}function e(i){return i/180*Math.PI}var x={x:0,y:0,vx:0,vy:0,radius:0,create:function(i,J,j,I){var H=Object.create(this);H.x=i;H.y=J;H.vx=Math.cos(I)*j;H.vy=Math.sin(I)*j;return H},getSpeed:function(){return Math.sqrt(this.vx*this.vx+this.vy*this.vy)},setSpeed:function(i){var j=this.getHeading();this.vx=Math.cos(j)*i;this.vy=Math.sin(j)*i},getHeading:function(){return Math.atan2(this.vy,this.vx)},setHeading:function(j){var i=this.getSpeed();this.vx=Math.cos(j)*i;this.vy=Math.sin(j)*i},update:function(){this.x+=this.vx;this.y+=this.vy}};var c=document.getElementById("canvas"),b=c.getContext("2d"),r=c.width=window.innerWidth,p=c.height=window.innerHeight,d=[],v=[],f=[{speed:0.015,scale:0.2,count:320},{speed:0.03,scale:0.5,count:50},{speed:0.05,scale:0.75,count:30}],q=145,D={min:15,max:20},y=0.01,l=0.01,G=2000,o=500,t=300,n=2,C=3,B=false;for(var u=0;u<f.length;u+=1){var F=f[u];for(var w=0;w<F.count;w+=1){var A=x.create(k(0,r),k(0,p),0,0);A.radius=n*F.scale;A.setSpeed(F.speed);A.setHeading(e(q));d.push(A)}}function h(){var i=x.create(k(r/2,r),k(0,p/2),0,0);i.setSpeed(k(D.min,D.max));i.setHeading(e(q));i.radius=C;i.opacity=0;i.trailLengthDelta=0;i.isSpawning=true;i.isDying=false;v.push(i)}function s(i){setTimeout(function(){i.isDying=true},o)}var a=new Image();a.src=ozy404assets.path+"images/assets/gradient.png";function g(){if(!B){b.clearRect(0,0,r,p);b.fillStyle="#282a3a";b.fillRect(0,0,r,p);b.drawImage(a,0,0,c.width,c.height);b.fill();for(var j=0;j<d.length;j+=1){var I=d[j];I.update();E(I);if(I.x>r){I.x=0}if(I.x<0){I.x=r}if(I.y>p){I.y=0}if(I.y<0){I.y=p}}for(j=0;j<v.length;j+=1){var H=v[j];if(H.isSpawning){H.opacity+=y;if(H.opacity>=1){H.isSpawning=false;s(H)}}if(H.isDying){H.opacity-=y;if(H.opacity<=0){H.isDying=false;H.isDead=true}}H.trailLengthDelta+=l;H.update();if(H.opacity>0){m(H)}}for(j=v.length-1;j>=0;j--){if(v[j].isDead){v.splice(j,1)}}}requestAnimationFrame(g)}function E(i){b.fillStyle="rgb(255, 221, 157)";b.beginPath();b.arc(i.x,i.y,i.radius,0,Math.PI*2,false);b.fill()}function m(I){var i=I.x,K=I.y,j=(t*I.trailLengthDelta),J=z(i,K,-j,I.getHeading());b.fillStyle="rgba(255, 255, 255, 1)";var H=5;b.beginPath();b.moveTo(i-1,K+1);b.lineTo(i,K+H);b.lineTo(i+1,K+1);b.lineTo(i+H,K);b.lineTo(i+1,K-1);b.lineTo(i,K+1);b.lineTo(i,K-H);b.lineTo(i-1,K-1);b.lineTo(i-H,K);b.lineTo(i-1,K+1);b.lineTo(i-H,K);b.closePath();b.fill();b.fillStyle="rgba(255, 221, 157, 1)";b.beginPath();b.moveTo(i-1,K-1);b.lineTo(J.x,J.y);b.lineTo(i+1,K+1);b.closePath();b.fill()}g();setInterval(function(){if(B){return}h()},G);window.onfocus=function(){B=false};window.onblur=function(){B=true}};jQuery(document).ready(function(a){a("html,body").height(a(document).height()).css("overflow","hidden");a("#frame,#main,.container,#content").height((a(document).height()))});